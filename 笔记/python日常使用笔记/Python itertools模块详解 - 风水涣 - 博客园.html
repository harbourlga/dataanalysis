<!DOCTYPE html>
<!-- saved from url=(0051)https://www.cnblogs.com/fengshuihuan/p/7105545.html -->
<html lang="zh-cn"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="referrer" content="origin">
<title>Python itertools模块详解 - 风水涣 - 博客园</title>
<meta property="og:description" content="这货很强大, 必须掌握 文档 链接 http://docs.python.org/2/library/itertools.html pymotw 链接 http://pymotw.">
<link type="text/css" rel="stylesheet" href="./Python itertools模块详解 - 风水涣 - 博客园_files/blog-common.css">
<link id="MainCss" type="text/css" rel="stylesheet" href="./Python itertools模块详解 - 风水涣 - 博客园_files/bundle-elf.css">
<link type="text/css" rel="stylesheet" href="./Python itertools模块详解 - 风水涣 - 博客园_files/356336.css">
<link id="mobile-style" media="only screen and (max-width: 767px)" type="text/css" rel="stylesheet" href="./Python itertools模块详解 - 风水涣 - 博客园_files/bundle-elf-mobile.css">
<link title="RSS" type="application/rss+xml" rel="alternate" href="https://www.cnblogs.com/fengshuihuan/rss">
<link title="RSD" type="application/rsd+xml" rel="EditURI" href="https://www.cnblogs.com/fengshuihuan/rsd.xml">
<link type="application/wlwmanifest+xml" rel="wlwmanifest" href="https://www.cnblogs.com/fengshuihuan/wlwmanifest.xml">
<script async="" src="./Python itertools模块详解 - 风水涣 - 博客园_files/analytics.js"></script><script src="./Python itertools模块详解 - 风水涣 - 博客园_files/jquery-2.2.0.min.js"></script>
<script type="text/javascript">var currentBlogApp = 'fengshuihuan', cb_enable_mathjax=false;var isLogined=false;</script>
<script src="./Python itertools模块详解 - 风水涣 - 博客园_files/blog-common.js" type="text/javascript"></script>
</head><style type="text/css" id="111854325532"></style>
<body>
<a name="top"></a>
<!--PageBeginHtml Block Begin-->
<link type="text/css" rel="stylesheet" href="./Python itertools模块详解 - 风水涣 - 博客园_files/maodian.css">
<!--PageBeginHtml Block End-->

<!--done-->
<div id="home">
<div id="header">
	<div id="blogTitle">
	<a id="lnkBlogLogo" href="https://www.cnblogs.com/fengshuihuan/"><img id="blogLogo" src="./Python itertools模块详解 - 风水涣 - 博客园_files/logo.gif" alt="返回主页"></a>			
		
<!--done-->
<h1><a id="Header1_HeaderTitle" class="headermaintitle" href="https://www.cnblogs.com/fengshuihuan/">风水涣</a></h1>
<h2></h2>



		
	</div><!--end: blogTitle 博客的标题和副标题 -->
	<div id="navigator">
		
<ul id="navList">
<li><a id="blog_nav_sitehome" class="menu" href="https://www.cnblogs.com/">博客园</a></li>
<li><a id="blog_nav_myhome" class="menu" href="https://www.cnblogs.com/fengshuihuan/">首页</a></li>
<li><a id="blog_nav_newpost" class="menu" rel="nofollow" href="https://i.cnblogs.com/EditPosts.aspx?opt=1">新随笔</a></li>
<li><a id="blog_nav_contact" class="menu" rel="nofollow" href="https://msg.cnblogs.com/send/%E9%A3%8E%E6%B0%B4%E6%B6%A3">联系</a></li>
<li><a id="blog_nav_rss" class="menu" href="https://www.cnblogs.com/fengshuihuan/rss">订阅</a>
<!--<a id="blog_nav_rss_image" class="aHeaderXML" href="https://www.cnblogs.com/fengshuihuan/rss"><img src="//www.cnblogs.com/images/xml.gif" alt="订阅" /></a>--></li>
<li><a id="blog_nav_admin" class="menu" rel="nofollow" href="https://i.cnblogs.com/">管理</a></li>
</ul>
		<div class="blogStats">
			
			<div id="blog_stats">
<span id="stats_post_count">随笔 - 99&nbsp; </span>
<span id="stats_article_count">文章 - 0&nbsp; </span>
<span id="stats-comment_count">评论 - 0</span>
</div>
			
		</div><!--end: blogStats -->
	</div><!--end: navigator 博客导航栏 -->
</div><!--end: header 头部 -->

<div id="main">
	<div id="mainContent">
	<div class="forFlow">
		
<div id="post_detail">
<!--done-->
<div id="topics">
	<div class="post">
		<h1 class="postTitle">
			<a id="cb_post_title_url" class="postTitle2" href="https://www.cnblogs.com/fengshuihuan/p/7105545.html">Python itertools模块详解</a>
		</h1>
		<div class="clear"></div>
		<div class="postBody">
			<div id="cnblogs_post_body" class="blogpost-body"><p>这货很强大, 必须掌握</p>
<p>文档 链接&nbsp;<a href="http://docs.python.org/2/library/itertools.html">http://docs.python.org/2/library/itertools.html</a></p>
<p>pymotw 链接&nbsp;<a href="http://pymotw.com/2/itertools/">http://pymotw.com/2/itertools/</a></p>
<p>基本是基于文档的翻译和补充，相当于翻译了</p>
<p>itertools用于高效循环的迭代函数集合</p>
<p><strong>组成</strong></p>
<p>总体，整体了解</p>
<p>无限迭代器</p>
<div class="codetitle"><a id="copybut21032" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code21032" class="codebody"><br>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_26012" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">迭代器&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 参数&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 结果&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 例子</code></div><div class="line number2 index1 alt1"><code class="python plain">count()&nbsp;&nbsp;&nbsp;&nbsp; start, [step]&nbsp;&nbsp; start, start</code><code class="python keyword">+</code><code class="python plain">step, start</code><code class="python keyword">+</code><code class="python value">2</code><code class="python keyword">*</code><code class="python plain">step, ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; count(</code><code class="python value">10</code><code class="python plain">) </code><code class="python keyword">-</code><code class="python keyword">-</code><code class="python plain">&gt; </code><code class="python value">10</code> <code class="python value">11</code> <code class="python value">12</code> <code class="python value">13</code> <code class="python value">14</code> <code class="python plain">...</code></div><div class="line number3 index2 alt2"><code class="python plain">cycle()&nbsp;&nbsp;&nbsp;&nbsp; p&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p0, p1, ... plast, p0, p1, ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cycle(</code><code class="python string">'ABCD'</code><code class="python plain">) </code><code class="python keyword">-</code><code class="python keyword">-</code><code class="python plain">&gt; A B C D A B C D ...</code></div><div class="line number4 index3 alt1"><code class="python plain">repeat()&nbsp;&nbsp;&nbsp; elem [,n]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; elem, elem, elem, ... endlessly </code><code class="python keyword">or</code> <code class="python plain">up to n times&nbsp;&nbsp;&nbsp; repeat(</code><code class="python value">10</code><code class="python plain">, </code><code class="python value">3</code><code class="python plain">) </code><code class="python keyword">-</code><code class="python keyword">-</code><code class="python plain">&gt; </code><code class="python value">10</code> <code class="python value">10</code> <code class="python value">10</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
</div>
<p> <br>处理输入序列迭代器</p>
<div class="codetitle"><a id="copybut12746" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_620724" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">迭代器&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 参数&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 结果&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 例子</code></div><div class="line number2 index1 alt1"><code class="python plain">chain()&nbsp;&nbsp;&nbsp;&nbsp; p, q, ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p0, p1, ... plast, q0, q1, ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; chain(</code><code class="python string">'ABC'</code><code class="python plain">, </code><code class="python string">'DEF'</code><code class="python plain">) </code><code class="python keyword">-</code><code class="python keyword">-</code><code class="python plain">&gt; A B C D E F</code></div><div class="line number3 index2 alt2"><code class="python plain">compress()&nbsp; data, selectors&nbsp;&nbsp;&nbsp;&nbsp; (d[</code><code class="python value">0</code><code class="python plain">] </code><code class="python keyword">if</code> <code class="python plain">s[</code><code class="python value">0</code><code class="python plain">]), (d[</code><code class="python value">1</code><code class="python plain">] </code><code class="python keyword">if</code> <code class="python plain">s[</code><code class="python value">1</code><code class="python plain">]), ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; compress(</code><code class="python string">'ABCDEF'</code><code class="python plain">, [</code><code class="python value">1</code><code class="python plain">,</code><code class="python value">0</code><code class="python plain">,</code><code class="python value">1</code><code class="python plain">,</code><code class="python value">0</code><code class="python plain">,</code><code class="python value">1</code><code class="python plain">,</code><code class="python value">1</code><code class="python plain">]) </code><code class="python keyword">-</code><code class="python keyword">-</code><code class="python plain">&gt; A C E F</code></div><div class="line number4 index3 alt1"><code class="python plain">dropwhile() pred, seq&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; seq[n], seq[n</code><code class="python keyword">+</code><code class="python value">1</code><code class="python plain">], starting when pred fails&nbsp; dropwhile(</code><code class="python keyword">lambda</code> <code class="python plain">x: x&lt;</code><code class="python value">5</code><code class="python plain">, [</code><code class="python value">1</code><code class="python plain">,</code><code class="python value">4</code><code class="python plain">,</code><code class="python value">6</code><code class="python plain">,</code><code class="python value">4</code><code class="python plain">,</code><code class="python value">1</code><code class="python plain">]) </code><code class="python keyword">-</code><code class="python keyword">-</code><code class="python plain">&gt; </code><code class="python value">6</code> <code class="python value">4</code> <code class="python value">1</code></div><div class="line number5 index4 alt2"><code class="python plain">groupby()&nbsp;&nbsp; iterable[, keyfunc] sub</code><code class="python keyword">-</code><code class="python plain">iterators grouped by value of keyfunc(v)</code></div><div class="line number6 index5 alt1"><code class="python plain">ifilter()&nbsp;&nbsp; pred, seq&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; elements of seq where pred(elem) </code><code class="python keyword">is</code> <code class="python color1">True</code>&nbsp;&nbsp;&nbsp; <code class="python plain">ifilter(</code><code class="python keyword">lambda</code> <code class="python plain">x: x</code><code class="python keyword">%</code><code class="python value">2</code><code class="python plain">, </code><code class="python functions">range</code><code class="python plain">(</code><code class="python value">10</code><code class="python plain">)) </code><code class="python keyword">-</code><code class="python keyword">-</code><code class="python plain">&gt; </code><code class="python value">1</code> <code class="python value">3</code> <code class="python value">5</code> <code class="python value">7</code> <code class="python value">9</code></div><div class="line number7 index6 alt2"><code class="python plain">ifilterfalse()&nbsp; pred, seq&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; elements of seq where pred(elem) </code><code class="python keyword">is</code> <code class="python color1">False</code>&nbsp;&nbsp; <code class="python plain">ifilterfalse(</code><code class="python keyword">lambda</code> <code class="python plain">x: x</code><code class="python keyword">%</code><code class="python value">2</code><code class="python plain">, </code><code class="python functions">range</code><code class="python plain">(</code><code class="python value">10</code><code class="python plain">)) </code><code class="python keyword">-</code><code class="python keyword">-</code><code class="python plain">&gt; </code><code class="python value">0</code> <code class="python value">2</code> <code class="python value">4</code> <code class="python value">6</code> <code class="python value">8</code></div><div class="line number8 index7 alt1"><code class="python plain">islice()&nbsp;&nbsp;&nbsp; seq, [start,] stop [, step] elements </code><code class="python keyword">from</code> <code class="python plain">seq[start:stop:step]&nbsp; islice(</code><code class="python string">'ABCDEFG'</code><code class="python plain">, </code><code class="python value">2</code><code class="python plain">, </code><code class="python color1">None</code><code class="python plain">) </code><code class="python keyword">-</code><code class="python keyword">-</code><code class="python plain">&gt; C D E F G</code></div><div class="line number9 index8 alt2"><code class="python plain">imap()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; func, p, q, ...&nbsp;&nbsp;&nbsp;&nbsp; func(p0, q0), func(p1, q1), ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; imap(</code><code class="python functions">pow</code><code class="python plain">, (</code><code class="python value">2</code><code class="python plain">,</code><code class="python value">3</code><code class="python plain">,</code><code class="python value">10</code><code class="python plain">), (</code><code class="python value">5</code><code class="python plain">,</code><code class="python value">2</code><code class="python plain">,</code><code class="python value">3</code><code class="python plain">)) </code><code class="python keyword">-</code><code class="python keyword">-</code><code class="python plain">&gt; </code><code class="python value">32</code> <code class="python value">9</code> <code class="python value">1000</code></div><div class="line number10 index9 alt1"><code class="python plain">starmap()&nbsp;&nbsp; func, seq&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; func(</code><code class="python keyword">*</code><code class="python plain">seq[</code><code class="python value">0</code><code class="python plain">]), func(</code><code class="python keyword">*</code><code class="python plain">seq[</code><code class="python value">1</code><code class="python plain">]), ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; starmap(</code><code class="python functions">pow</code><code class="python plain">, [(</code><code class="python value">2</code><code class="python plain">,</code><code class="python value">5</code><code class="python plain">), (</code><code class="python value">3</code><code class="python plain">,</code><code class="python value">2</code><code class="python plain">), (</code><code class="python value">10</code><code class="python plain">,</code><code class="python value">3</code><code class="python plain">)]) </code><code class="python keyword">-</code><code class="python keyword">-</code><code class="python plain">&gt; </code><code class="python value">32</code> <code class="python value">9</code> <code class="python value">1000</code></div><div class="line number11 index10 alt2"><code class="python plain">tee()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; it, n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; it1, it2 , ... itn splits one iterator into n</code></div><div class="line number12 index11 alt1"><code class="python plain">takewhile() pred, seq&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; seq[</code><code class="python value">0</code><code class="python plain">], seq[</code><code class="python value">1</code><code class="python plain">], until pred fails&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; takewhile(</code><code class="python keyword">lambda</code> <code class="python plain">x: x&lt;</code><code class="python value">5</code><code class="python plain">, [</code><code class="python value">1</code><code class="python plain">,</code><code class="python value">4</code><code class="python plain">,</code><code class="python value">6</code><code class="python plain">,</code><code class="python value">4</code><code class="python plain">,</code><code class="python value">1</code><code class="python plain">]) </code><code class="python keyword">-</code><code class="python keyword">-</code><code class="python plain">&gt; </code><code class="python value">1</code> <code class="python value">4</code></div><div class="line number13 index12 alt2"><code class="python plain">izip()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p, q, ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (p[</code><code class="python value">0</code><code class="python plain">], q[</code><code class="python value">0</code><code class="python plain">]), (p[</code><code class="python value">1</code><code class="python plain">], q[</code><code class="python value">1</code><code class="python plain">]), ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; izip(</code><code class="python string">'ABCD'</code><code class="python plain">, </code><code class="python string">'xy'</code><code class="python plain">) </code><code class="python keyword">-</code><code class="python keyword">-</code><code class="python plain">&gt; Ax By</code></div><div class="line number14 index13 alt1"><code class="python plain">izip_longest()&nbsp; p, q, ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (p[</code><code class="python value">0</code><code class="python plain">], q[</code><code class="python value">0</code><code class="python plain">]), (p[</code><code class="python value">1</code><code class="python plain">], q[</code><code class="python value">1</code><code class="python plain">]), ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; izip_longest(</code><code class="python string">'ABCD'</code><code class="python plain">, </code><code class="python string">'xy'</code><code class="python plain">, fillvalue</code><code class="python keyword">=</code><code class="python string">'-'</code><code class="python plain">) </code><code class="python keyword">-</code><code class="python keyword">-</code><code class="python plain">&gt; Ax By C</code><code class="python keyword">-</code> <code class="python plain">D</code><code class="python keyword">-</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
</div>
<p>&nbsp;</p>
<p>组合生成器</p>
<div class="codetitle"><a id="copybut90720" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code90720" class="codebody">
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_193287" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">迭代器&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 参数&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 结果</code></div><div class="line number2 index1 alt1"><code class="python plain">product()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p, q, ... [repeat</code><code class="python keyword">=</code><code class="python value">1</code><code class="python plain">]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cartesian product, equivalent to a nested </code><code class="python keyword">for</code><code class="python keyword">-</code><code class="python plain">loop</code></div><div class="line number3 index2 alt2"><code class="python plain">permutations()&nbsp; p[, r]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; r</code><code class="python keyword">-</code><code class="python plain">length tuples, </code><code class="python functions">all</code> <code class="python plain">possible orderings, no repeated elements</code></div><div class="line number4 index3 alt1"><code class="python plain">combinations()&nbsp; p, r&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; r</code><code class="python keyword">-</code><code class="python plain">length tuples, </code><code class="python keyword">in</code> <code class="python functions">sorted</code> <code class="python plain">order, no repeated elements</code></div><div class="line number5 index4 alt2"><code class="python plain">combinations_with_replacement() p, r&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; r</code><code class="python keyword">-</code><code class="python plain">length tuples, </code><code class="python keyword">in</code> <code class="python functions">sorted</code> <code class="python plain">order, with repeated elements</code></div><div class="line number6 index5 alt1"><code class="python plain">product(</code><code class="python string">'ABCD'</code><code class="python plain">, repeat</code><code class="python keyword">=</code><code class="python value">2</code><code class="python plain">)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AA AB AC AD BA BB BC BD CA CB CC CD DA DB DC DD</code></div><div class="line number7 index6 alt2"><code class="python plain">permutations(</code><code class="python string">'ABCD'</code><code class="python plain">, </code><code class="python value">2</code><code class="python plain">)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AB AC AD BA BC BD CA CB CD DA DB DC</code></div><div class="line number8 index7 alt1"><code class="python plain">combinations(</code><code class="python string">'ABCD'</code><code class="python plain">, </code><code class="python value">2</code><code class="python plain">)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AB AC AD BC BD CD</code></div><div class="line number9 index8 alt2"><code class="python plain">combinations_with_replacement(</code><code class="python string">'ABCD'</code><code class="python plain">, </code><code class="python value">2</code><code class="python plain">)&nbsp;&nbsp;&nbsp; AA AB AC AD BB BC BD CC CD DD</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
</div>
<p>&nbsp;</p>
<p><strong>第一部分</strong></p>
<p>&nbsp;</p>
<p><strong>itertools.count(start=0, step=1)</strong><br><br>创建一个迭代器，生成从n开始的连续整数，如果忽略n，则从0开始计算（注意：此迭代器不支持长整数）</p>
<p>如果超出了sys.maxint，计数器将溢出并继续从-sys.maxint-1开始计算。</p>
<p>定义</p>
<div class="codetitle"><a id="copybut30241" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code30241" class="codebody">
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_939256" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">def</code> <code class="python plain">count(start</code><code class="python keyword">=</code><code class="python value">0</code><code class="python plain">, step</code><code class="python keyword">=</code><code class="python value">1</code><code class="python plain">):</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># count(10) --&gt; 10 11 12 13 14 ...</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># count(2.5, 0.5) -&gt; 2.5 3.0 3.5 ...</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">n </code><code class="python keyword">=</code> <code class="python plain">start</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">while</code> <code class="python color1">True</code><code class="python plain">:</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">yield</code> <code class="python plain">n</code></div><div class="line number7 index6 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">n </code><code class="python keyword">+</code><code class="python keyword">=</code> <code class="python plain">step</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
</div>
<p>等同于(start + step * i for i in count())</p>
<p>&nbsp;</p>
<p>使用</p>
<div class="codetitle"><a id="copybut11678" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code11678" class="codebody">
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_606330" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">from</code> <code class="python plain">itertools </code><code class="python keyword">import</code> <code class="python keyword">*</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;</code>&nbsp;</div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="python keyword">for</code> <code class="python plain">i </code><code class="python keyword">in</code> <code class="python plain">izip(count(</code><code class="python value">1</code><code class="python plain">), [</code><code class="python string">'a'</code><code class="python plain">, </code><code class="python string">'b'</code><code class="python plain">, </code><code class="python string">'c'</code><code class="python plain">]):</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python functions">print</code> <code class="python plain">i</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="python plain">(</code><code class="python value">1</code><code class="python plain">, </code><code class="python string">'a'</code><code class="python plain">)</code></div><div class="line number8 index7 alt1"><code class="python plain">(</code><code class="python value">2</code><code class="python plain">, </code><code class="python string">'b'</code><code class="python plain">)</code></div><div class="line number9 index8 alt2"><code class="python plain">(</code><code class="python value">3</code><code class="python plain">, </code><code class="python string">'c'</code><code class="python plain">)</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
</div>
<p><strong>itertools.repeat(object[, times])</strong></p>
<p>创建一个迭代器，重复生成object，times（如果已提供）指定重复计数，如果未提供times，将无止尽返回该对象。</p>
<p>定义</p>
<div class="codetitle"><a id="copybut93924" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code93924" class="codebody"><br>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_519840" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">def</code> <code class="python plain">repeat(</code><code class="python functions">object</code><code class="python plain">, times</code><code class="python keyword">=</code><code class="python color1">None</code><code class="python plain">):</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># repeat(10, 3) --&gt; 10 10 10</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python plain">times </code><code class="python keyword">is</code> <code class="python color1">None</code><code class="python plain">:</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">while</code> <code class="python color1">True</code><code class="python plain">:</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">yield</code> <code class="python functions">object</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">else</code><code class="python plain">:</code></div><div class="line number7 index6 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code> <code class="python plain">i </code><code class="python keyword">in</code> <code class="python functions">xrange</code><code class="python plain">(times):</code></div><div class="line number8 index7 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">yield</code> <code class="python functions">object</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>&nbsp;</p>
</div>
<p>使用</p>
<div class="codetitle"><a id="copybut20627" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code20627" class="codebody"><br>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_293861" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">from</code> <code class="python plain">itertools </code><code class="python keyword">import</code> <code class="python keyword">*</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;</code>&nbsp;</div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="python keyword">for</code> <code class="python plain">i </code><code class="python keyword">in</code> <code class="python plain">repeat(</code><code class="python string">'over-and-over'</code><code class="python plain">, </code><code class="python value">5</code><code class="python plain">):</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python functions">print</code> <code class="python plain">i</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="python plain">over</code><code class="python keyword">-</code><code class="python keyword">and</code><code class="python keyword">-</code><code class="python plain">over</code></div><div class="line number8 index7 alt1"><code class="python plain">over</code><code class="python keyword">-</code><code class="python keyword">and</code><code class="python keyword">-</code><code class="python plain">over</code></div><div class="line number9 index8 alt2"><code class="python plain">over</code><code class="python keyword">-</code><code class="python keyword">and</code><code class="python keyword">-</code><code class="python plain">over</code></div><div class="line number10 index9 alt1"><code class="python plain">over</code><code class="python keyword">-</code><code class="python keyword">and</code><code class="python keyword">-</code><code class="python plain">over</code></div><div class="line number11 index10 alt2"><code class="python plain">over</code><code class="python keyword">-</code><code class="python keyword">and</code><code class="python keyword">-</code><code class="python plain">over</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
</div>
<p>第二部分<br><strong>itertools.chain(*iterables)</strong></p>
<p>将多个迭代器作为参数, 但只返回单个迭代器, 它产生所有参数迭代器的内容, 就好像他们是来自于一个单一的序列.</p>
<div class="codetitle"><a id="copybut40517" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code40517" class="codebody">
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_59591" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">def</code> <code class="python plain">chain(</code><code class="python keyword">*</code><code class="python plain">iterables):</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># chain('ABC', 'DEF') --&gt; A B C D E F</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code> <code class="python plain">it </code><code class="python keyword">in</code> <code class="python plain">iterables:</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code> <code class="python plain">element </code><code class="python keyword">in</code> <code class="python plain">it:</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">yield</code> <code class="python plain">element</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
</div>
<p>使用</p>
<div class="codetitle"><a id="copybut7405" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code7405" class="codebody"><br>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_255536" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">from</code> <code class="python plain">itertools </code><code class="python keyword">import</code> <code class="python keyword">*</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;</code>&nbsp;</div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="python keyword">for</code> <code class="python plain">i </code><code class="python keyword">in</code> <code class="python plain">chain([</code><code class="python value">1</code><code class="python plain">, </code><code class="python value">2</code><code class="python plain">, </code><code class="python value">3</code><code class="python plain">], [</code><code class="python string">'a'</code><code class="python plain">, </code><code class="python string">'b'</code><code class="python plain">, </code><code class="python string">'c'</code><code class="python plain">]):</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python functions">print</code> <code class="python plain">i</code></div><div class="line number6 index5 alt1"><code class="python value">1</code></div><div class="line number7 index6 alt2"><code class="python value">2</code></div><div class="line number8 index7 alt1"><code class="python value">3</code></div><div class="line number9 index8 alt2"><code class="python plain">a</code></div><div class="line number10 index9 alt1"><code class="python plain">b</code></div><div class="line number11 index10 alt2"><code class="python plain">c</code></div><div class="line number12 index11 alt1">&nbsp;</div><div class="line number13 index12 alt2">&nbsp;</div><div class="line number14 index13 alt1"><code class="python keyword">from</code> <code class="python plain">itertools </code><code class="python keyword">import</code> <code class="python plain">chain, imap</code></div><div class="line number15 index14 alt2"><code class="python keyword">def</code> <code class="python plain">flatmap(f, items):</code></div><div class="line number16 index15 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python plain">chain.from_iterable(imap(f, items))</code></div><div class="line number17 index16 alt2"><code class="python plain">&gt;&gt;&gt; </code><code class="python functions">list</code><code class="python plain">(flatmap(os.listdir, dirs))</code></div><div class="line number18 index17 alt1"><code class="python plain">&gt;&gt;&gt; [</code><code class="python string">'settings.py'</code><code class="python plain">, </code><code class="python string">'wsgi.py'</code><code class="python plain">, </code><code class="python string">'templates'</code><code class="python plain">, </code><code class="python string">'app.py'</code><code class="python plain">,</code></div><div class="line number19 index18 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">'templates'</code><code class="python plain">, </code><code class="python string">'index.html, '</code><code class="python plain">config.json']</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
<br>
</div>
<p>&nbsp;</p>
<p><strong>itertools.compress(data, selectors)</strong></p>
<p>提供一个选择列表，对原始数据进行筛选</p>
<div class="codetitle"><a id="copybut6742" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code6742" class="codebody"><br>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_209628" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">def</code> <code class="python plain">compress(data, selectors):</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># compress('ABCDEF', [1,0,1,0,1,1]) --&gt; A C E F</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python plain">(d </code><code class="python keyword">for</code> <code class="python plain">d, s </code><code class="python keyword">in</code> <code class="python plain">izip(data, selectors) </code><code class="python keyword">if</code> <code class="python plain">s)</code></div><div class="line number4 index3 alt1"><code class="python plain">itertools.dropwhile(predicate, iterable)</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
</div>
<p> <br>创建一个迭代器，只要函数predicate(item)为True，就丢弃iterable中的项，如果predicate返回False，就会生成iterable中的项和所有后续项。</p>
<p>&nbsp;</p>
<p>即：在条件为false之后的第一次, 返回迭代器中剩下来的项.</p>
<div class="codetitle"><a id="copybut82175" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code82175" class="codebody"><br>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_685758" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">def</code> <code class="python plain">dropwhile(predicate, iterable):</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># dropwhile(lambda x: x&lt;5, [1,4,6,4,1]) --&gt; 6 4 1</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">iterable </code><code class="python keyword">=</code> <code class="python functions">iter</code><code class="python plain">(iterable)</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code> <code class="python plain">x </code><code class="python keyword">in</code> <code class="python plain">iterable:</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python keyword">not</code> <code class="python plain">predicate(x):</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">yield</code> <code class="python plain">x</code></div><div class="line number7 index6 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">break</code></div><div class="line number8 index7 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code> <code class="python plain">x </code><code class="python keyword">in</code> <code class="python plain">iterable:</code></div><div class="line number9 index8 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">yield</code> <code class="python plain">x</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
</div>
<p>使用</p>
<div class="codetitle"><a id="copybut55876" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code55876" class="codebody">
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_635770" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">from</code> <code class="python plain">itertools </code><code class="python keyword">import</code> <code class="python keyword">*</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;</code>&nbsp;</div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="python keyword">def</code> <code class="python plain">should_drop(x):</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python functions">print</code> <code class="python string">'Testing:'</code><code class="python plain">, x</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python plain">(x&lt;</code><code class="python value">1</code><code class="python plain">)</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="python keyword">for</code> <code class="python plain">i </code><code class="python keyword">in</code> <code class="python plain">dropwhile(should_drop, [ </code><code class="python keyword">-</code><code class="python value">1</code><code class="python plain">, </code><code class="python value">0</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">, </code><code class="python value">2</code><code class="python plain">, </code><code class="python value">3</code><code class="python plain">, </code><code class="python value">4</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">, </code><code class="python keyword">-</code><code class="python value">2</code> <code class="python plain">]):</code></div><div class="line number9 index8 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python functions">print</code> <code class="python string">'Yielding:'</code><code class="python plain">, i</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="python plain">Testing: </code><code class="python keyword">-</code><code class="python value">1</code></div><div class="line number12 index11 alt1"><code class="python plain">Testing: </code><code class="python value">0</code></div><div class="line number13 index12 alt2"><code class="python plain">Testing: </code><code class="python value">1</code></div><div class="line number14 index13 alt1"><code class="python plain">Yielding: </code><code class="python value">1</code></div><div class="line number15 index14 alt2"><code class="python plain">Yielding: </code><code class="python value">2</code></div><div class="line number16 index15 alt1"><code class="python plain">Yielding: </code><code class="python value">3</code></div><div class="line number17 index16 alt2"><code class="python plain">Yielding: </code><code class="python value">4</code></div><div class="line number18 index17 alt1"><code class="python plain">Yielding: </code><code class="python value">1</code></div><div class="line number19 index18 alt2"><code class="python plain">Yielding: </code><code class="python keyword">-</code><code class="python value">2</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
<br>
</div>
<p>&nbsp;</p>
<p><strong>itertools.groupby(iterable[, key])</strong></p>
<p>返回一个产生按照key进行分组后的值集合的迭代器.</p>
<p>如果iterable在多次连续迭代中生成了同一项，则会定义一个组，如果将此函数应用一个分类列表，那么分组将定义该列表中的所有唯一项，key（如果已提供）是一个函数，应用于每一项，如果此函数存在返回值，该值将用于后续项而不是该项本身进行比较，此函数返回的迭代器生成元素(key, group)，其中key是分组的键值，group是迭代器，生成组成该组的所有项。</p>
<p>即：按照keyfunc函数对序列每个元素执行后的结果分组(每个分组是一个迭代器), 返回这些分组的迭代器</p>
<p>等价于</p>
<div class="codetitle"><a id="copybut8214" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code8214" class="codebody">&nbsp;</div>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_20531" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">class</code> <code class="python plain">groupby(</code><code class="python functions">object</code><code class="python plain">):</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># [k for k, g in groupby('AAAABBBCCDAABBB')] --&gt; A B C D A B</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># [list(g) for k, g in groupby('AAAABBBCCD')] --&gt; AAAA BBB CC D</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">def</code> <code class="python plain">__init__(</code><code class="python color1">self</code><code class="python plain">, iterable, key</code><code class="python keyword">=</code><code class="python color1">None</code><code class="python plain">):</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python plain">key </code><code class="python keyword">is</code> <code class="python color1">None</code><code class="python plain">:</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">key </code><code class="python keyword">=</code> <code class="python keyword">lambda</code> <code class="python plain">x: x</code></div><div class="line number7 index6 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">.keyfunc </code><code class="python keyword">=</code> <code class="python plain">key</code></div><div class="line number8 index7 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">.it </code><code class="python keyword">=</code> <code class="python functions">iter</code><code class="python plain">(iterable)</code></div><div class="line number9 index8 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">.tgtkey </code><code class="python keyword">=</code> <code class="python color1">self</code><code class="python plain">.currkey </code><code class="python keyword">=</code> <code class="python color1">self</code><code class="python plain">.currvalue </code><code class="python keyword">=</code> <code class="python functions">object</code><code class="python plain">()</code></div><div class="line number10 index9 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">def</code> <code class="python plain">__iter__(</code><code class="python color1">self</code><code class="python plain">):</code></div><div class="line number11 index10 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python color1">self</code></div><div class="line number12 index11 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">def</code> <code class="python functions">next</code><code class="python plain">(</code><code class="python color1">self</code><code class="python plain">):</code></div><div class="line number13 index12 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">while</code> <code class="python color1">self</code><code class="python plain">.currkey </code><code class="python keyword">=</code><code class="python keyword">=</code> <code class="python color1">self</code><code class="python plain">.tgtkey:</code></div><div class="line number14 index13 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">.currvalue </code><code class="python keyword">=</code> <code class="python functions">next</code><code class="python plain">(</code><code class="python color1">self</code><code class="python plain">.it)&nbsp;&nbsp;&nbsp; </code><code class="python comments"># Exit on StopIteration</code></div><div class="line number15 index14 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">.currkey </code><code class="python keyword">=</code> <code class="python color1">self</code><code class="python plain">.keyfunc(</code><code class="python color1">self</code><code class="python plain">.currvalue)</code></div><div class="line number16 index15 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">.tgtkey </code><code class="python keyword">=</code> <code class="python color1">self</code><code class="python plain">.currkey</code></div><div class="line number17 index16 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python plain">(</code><code class="python color1">self</code><code class="python plain">.currkey, </code><code class="python color1">self</code><code class="python plain">._grouper(</code><code class="python color1">self</code><code class="python plain">.tgtkey))</code></div><div class="line number18 index17 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">def</code> <code class="python plain">_grouper(</code><code class="python color1">self</code><code class="python plain">, tgtkey):</code></div><div class="line number19 index18 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">while</code> <code class="python color1">self</code><code class="python plain">.currkey </code><code class="python keyword">=</code><code class="python keyword">=</code> <code class="python plain">tgtkey:</code></div><div class="line number20 index19 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">yield</code> <code class="python color1">self</code><code class="python plain">.currvalue</code></div><div class="line number21 index20 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">.currvalue </code><code class="python keyword">=</code> <code class="python functions">next</code><code class="python plain">(</code><code class="python color1">self</code><code class="python plain">.it)&nbsp;&nbsp;&nbsp; </code><code class="python comments"># Exit on StopIteration</code></div><div class="line number22 index21 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python color1">self</code><code class="python plain">.currkey </code><code class="python keyword">=</code> <code class="python color1">self</code><code class="python plain">.keyfunc(</code><code class="python color1">self</code><code class="python plain">.currvalue)</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
<p>&nbsp;</p>
<p>应用</p>
<div class="codetitle"><a id="copybut51199" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code51199" class="codebody">
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_182281" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">from</code> <code class="python plain">itertools </code><code class="python keyword">import</code> <code class="python plain">groupby</code></div><div class="line number2 index1 alt1"><code class="python plain">qs </code><code class="python keyword">=</code> <code class="python plain">[{</code><code class="python string">'date'</code> <code class="python plain">: </code><code class="python value">1</code><code class="python plain">},{</code><code class="python string">'date'</code> <code class="python plain">: </code><code class="python value">2</code><code class="python plain">}]</code></div><div class="line number3 index2 alt2"><code class="python plain">[(name, </code><code class="python functions">list</code><code class="python plain">(group)) </code><code class="python keyword">for</code> <code class="python plain">name, group </code><code class="python keyword">in</code> <code class="python plain">itertools.groupby(qs, </code><code class="python keyword">lambda</code> <code class="python plain">p:p[</code><code class="python string">'date'</code><code class="python plain">])]</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;</code>&nbsp;</div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="python plain">Out[</code><code class="python value">77</code><code class="python plain">]: [(</code><code class="python value">1</code><code class="python plain">, [{</code><code class="python string">'date'</code><code class="python plain">: </code><code class="python value">1</code><code class="python plain">}]), (</code><code class="python value">2</code><code class="python plain">, [{</code><code class="python string">'date'</code><code class="python plain">: </code><code class="python value">2</code><code class="python plain">}])]</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="python plain">&gt;&gt;&gt; </code><code class="python keyword">from</code> <code class="python plain">itertools </code><code class="python keyword">import</code> <code class="python keyword">*</code></div><div class="line number10 index9 alt1"><code class="python plain">&gt;&gt;&gt; a </code><code class="python keyword">=</code> <code class="python plain">[</code><code class="python string">'aa'</code><code class="python plain">, </code><code class="python string">'ab'</code><code class="python plain">, </code><code class="python string">'abc'</code><code class="python plain">, </code><code class="python string">'bcd'</code><code class="python plain">, </code><code class="python string">'abcde'</code><code class="python plain">]</code></div><div class="line number11 index10 alt2"><code class="python plain">&gt;&gt;&gt; </code><code class="python keyword">for</code> <code class="python plain">i, k </code><code class="python keyword">in</code> <code class="python plain">groupby(a, </code><code class="python functions">len</code><code class="python plain">):</code></div><div class="line number12 index11 alt1"><code class="python plain">...&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="python functions">print</code> <code class="python plain">i, </code><code class="python functions">list</code><code class="python plain">(k)</code></div><div class="line number13 index12 alt2"><code class="python plain">...</code></div><div class="line number14 index13 alt1"><code class="python value">2</code> <code class="python plain">[</code><code class="python string">'aa'</code><code class="python plain">, </code><code class="python string">'ab'</code><code class="python plain">]</code></div><div class="line number15 index14 alt2"><code class="python value">3</code> <code class="python plain">[</code><code class="python string">'abc'</code><code class="python plain">, </code><code class="python string">'bcd'</code><code class="python plain">]</code></div><div class="line number16 index15 alt1"><code class="python value">5</code> <code class="python plain">[</code><code class="python string">'abcde'</code><code class="python plain">]</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
<br>
</div>
<p>&nbsp;</p>
<p>另一个例子</p>
<div class="codetitle"><a id="copybut75361" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code75361" class="codebody">
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_867944" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">from</code> <code class="python plain">itertools </code><code class="python keyword">import</code> <code class="python keyword">*</code></div><div class="line number2 index1 alt1"><code class="python keyword">from</code> <code class="python plain">operator </code><code class="python keyword">import</code> <code class="python plain">itemgetter</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;</code>&nbsp;</div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="python plain">d </code><code class="python keyword">=</code> <code class="python functions">dict</code><code class="python plain">(a</code><code class="python keyword">=</code><code class="python value">1</code><code class="python plain">, b</code><code class="python keyword">=</code><code class="python value">2</code><code class="python plain">, c</code><code class="python keyword">=</code><code class="python value">1</code><code class="python plain">, d</code><code class="python keyword">=</code><code class="python value">2</code><code class="python plain">, e</code><code class="python keyword">=</code><code class="python value">1</code><code class="python plain">, f</code><code class="python keyword">=</code><code class="python value">2</code><code class="python plain">, g</code><code class="python keyword">=</code><code class="python value">3</code><code class="python plain">)</code></div><div class="line number6 index5 alt1"><code class="python plain">di </code><code class="python keyword">=</code> <code class="python functions">sorted</code><code class="python plain">(d.iteritems(), key</code><code class="python keyword">=</code><code class="python plain">itemgetter(</code><code class="python value">1</code><code class="python plain">))</code></div><div class="line number7 index6 alt2"><code class="python keyword">for</code> <code class="python plain">k, g </code><code class="python keyword">in</code> <code class="python plain">groupby(di, key</code><code class="python keyword">=</code><code class="python plain">itemgetter(</code><code class="python value">1</code><code class="python plain">)):</code></div><div class="line number8 index7 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python functions">print</code> <code class="python plain">k, </code><code class="python functions">map</code><code class="python plain">(itemgetter(</code><code class="python value">0</code><code class="python plain">), g)</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="python value">1</code> <code class="python plain">[</code><code class="python string">'a'</code><code class="python plain">, </code><code class="python string">'c'</code><code class="python plain">, </code><code class="python string">'e'</code><code class="python plain">]</code></div><div class="line number12 index11 alt1"><code class="python value">2</code> <code class="python plain">[</code><code class="python string">'b'</code><code class="python plain">, </code><code class="python string">'d'</code><code class="python plain">, </code><code class="python string">'f'</code><code class="python plain">]</code></div><div class="line number13 index12 alt2"><code class="python value">3</code> <code class="python plain">[</code><code class="python string">'g'</code><code class="python plain">]</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
<br>
</div>
<p>&nbsp;</p>
<p><strong>itertools.ifilter(predicate, iterable)</strong></p>
<p>返回的是迭代器类似于针对列表的内置函数 filter() , 它只包括当测试函数返回true时的项. 它不同于 dropwhile()</p>
<p>创建一个迭代器，仅生成iterable中predicate(item)为True的项，如果predicate为None，将返回iterable中所有计算为True的项</p>
<p>对函数func执行返回真的元素的迭代器</p>
<div class="codetitle"><a id="copybut2874" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code2874" class="codebody">&nbsp;</div>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_395208" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">def</code> <code class="python plain">ifilter(predicate, iterable):</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># ifilter(lambda x: x%2, range(10)) --&gt; 1 3 5 7 9</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python plain">predicate </code><code class="python keyword">is</code> <code class="python color1">None</code><code class="python plain">:</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">predicate </code><code class="python keyword">=</code> <code class="python functions">bool</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code> <code class="python plain">x </code><code class="python keyword">in</code> <code class="python plain">iterable:</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python plain">predicate(x):</code></div><div class="line number7 index6 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">yield</code> <code class="python plain">x</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
<p>&nbsp;</p>
<p>使用</p>
<div class="codetitle"><a id="copybut67221" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code67221" class="codebody">
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_739116" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">from</code> <code class="python plain">itertools </code><code class="python keyword">import</code> <code class="python keyword">*</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;</code>&nbsp;</div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="python keyword">def</code> <code class="python plain">check_item(x):</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python functions">print</code> <code class="python string">'Testing:'</code><code class="python plain">, x</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python plain">(x&lt;</code><code class="python value">1</code><code class="python plain">)</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="python keyword">for</code> <code class="python plain">i </code><code class="python keyword">in</code> <code class="python plain">ifilter(check_item, [ </code><code class="python keyword">-</code><code class="python value">1</code><code class="python plain">, </code><code class="python value">0</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">, </code><code class="python value">2</code><code class="python plain">, </code><code class="python value">3</code><code class="python plain">, </code><code class="python value">4</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">, </code><code class="python keyword">-</code><code class="python value">2</code> <code class="python plain">]):</code></div><div class="line number9 index8 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python functions">print</code> <code class="python string">'Yielding:'</code><code class="python plain">, i</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="python plain">Testing: </code><code class="python keyword">-</code><code class="python value">1</code></div><div class="line number12 index11 alt1"><code class="python plain">Yielding: </code><code class="python keyword">-</code><code class="python value">1</code></div><div class="line number13 index12 alt2"><code class="python plain">Testing: </code><code class="python value">0</code></div><div class="line number14 index13 alt1"><code class="python plain">Yielding: </code><code class="python value">0</code></div><div class="line number15 index14 alt2"><code class="python plain">Testing: </code><code class="python value">1</code></div><div class="line number16 index15 alt1"><code class="python plain">Testing: </code><code class="python value">2</code></div><div class="line number17 index16 alt2"><code class="python plain">Testing: </code><code class="python value">3</code></div><div class="line number18 index17 alt1"><code class="python plain">Testing: </code><code class="python value">4</code></div><div class="line number19 index18 alt2"><code class="python plain">Testing: </code><code class="python value">1</code></div><div class="line number20 index19 alt1"><code class="python plain">Testing: </code><code class="python keyword">-</code><code class="python value">2</code></div><div class="line number21 index20 alt2"><code class="python plain">Yielding: </code><code class="python keyword">-</code><code class="python value">2</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
<br>
</div>
<p>&nbsp;</p>
<p><strong>itertools.ifilterfalse(predicate, iterable)</strong></p>
<p>和ifilter(函数相反 ， 返回一个包含那些测试函数返回false的项的迭代器)</p>
<p>创建一个迭代器，仅生成iterable中predicate(item)为False的项，如果predicate为None，则返回iterable中所有计算为False的项 对函数func执行返回假的元素的迭代器</p>
<div class="codetitle"><a id="copybut737" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code737" class="codebody">&nbsp;</div>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_955282" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">def</code> <code class="python plain">ifilterfalse(predicate, iterable):</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># ifilterfalse(lambda x: x%2, range(10)) --&gt; 0 2 4 6 8</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python plain">predicate </code><code class="python keyword">is</code> <code class="python color1">None</code><code class="python plain">:</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">predicate </code><code class="python keyword">=</code> <code class="python functions">bool</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code> <code class="python plain">x </code><code class="python keyword">in</code> <code class="python plain">iterable:</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python keyword">not</code> <code class="python plain">predicate(x):</code></div><div class="line number7 index6 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">yield</code> <code class="python plain">x</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
<p>&nbsp;</p>
<p>使用</p>
<div class="codetitle"><a id="copybut73629" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code73629" class="codebody">&nbsp;</div>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_871604" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">from</code> <code class="python plain">itertools </code><code class="python keyword">import</code> <code class="python keyword">*</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;</code>&nbsp;</div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="python keyword">def</code> <code class="python plain">check_item(x):</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python functions">print</code> <code class="python string">'Testing:'</code><code class="python plain">, x</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python plain">(x&lt;</code><code class="python value">1</code><code class="python plain">)</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="python keyword">for</code> <code class="python plain">i </code><code class="python keyword">in</code> <code class="python plain">ifilterfalse(check_item, [ </code><code class="python keyword">-</code><code class="python value">1</code><code class="python plain">, </code><code class="python value">0</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">, </code><code class="python value">2</code><code class="python plain">, </code><code class="python value">3</code><code class="python plain">, </code><code class="python value">4</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">, </code><code class="python keyword">-</code><code class="python value">2</code> <code class="python plain">]):</code></div><div class="line number9 index8 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python functions">print</code> <code class="python string">'Yielding:'</code><code class="python plain">, i</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="python plain">Testing: </code><code class="python keyword">-</code><code class="python value">1</code></div><div class="line number12 index11 alt1"><code class="python plain">Testing: </code><code class="python value">0</code></div><div class="line number13 index12 alt2"><code class="python plain">Testing: </code><code class="python value">1</code></div><div class="line number14 index13 alt1"><code class="python plain">Yielding: </code><code class="python value">1</code></div><div class="line number15 index14 alt2"><code class="python plain">Testing: </code><code class="python value">2</code></div><div class="line number16 index15 alt1"><code class="python plain">Yielding: </code><code class="python value">2</code></div><div class="line number17 index16 alt2"><code class="python plain">Testing: </code><code class="python value">3</code></div><div class="line number18 index17 alt1"><code class="python plain">Yielding: </code><code class="python value">3</code></div><div class="line number19 index18 alt2"><code class="python plain">Testing: </code><code class="python value">4</code></div><div class="line number20 index19 alt1"><code class="python plain">Yielding: </code><code class="python value">4</code></div><div class="line number21 index20 alt2"><code class="python plain">Testing: </code><code class="python value">1</code></div><div class="line number22 index21 alt1"><code class="python plain">Yielding: </code><code class="python value">1</code></div><div class="line number23 index22 alt2"><code class="python plain">Testing: </code><code class="python keyword">-</code><code class="python value">2</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
<p>&nbsp;</p>
<p><strong>itertools.islice(iterable, stop)</strong></p>
<p><strong>itertools.islice(iterable, start, stop[, step])</strong></p>
<p>返回的迭代器是返回了输入迭代器根据索引来选取的项</p>
<p>创建一个迭代器，生成项的方式类似于切片返回值： iterable[start : stop : step]，将跳过前start个项，迭代在stop所指定的位置停止，step指定用于跳过项的步幅。 与切片不同，负值不会用于任何start，stop和step， 如果省略了start，迭代将从0开始，如果省略了step，步幅将采用1.</p>
<p>返回序列seq的从start开始到stop结束的步长为step的元素的迭代器</p>
<div class="codetitle"><a id="copybut81511" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code81511" class="codebody">&nbsp;</div>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_15925" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">def</code> <code class="python plain">islice(iterable, </code><code class="python keyword">*</code><code class="python plain">args):</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># islice('ABCDEFG', 2) --&gt; A B</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># islice('ABCDEFG', 2, 4) --&gt; C D</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># islice('ABCDEFG', 2, None) --&gt; C D E F G</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># islice('ABCDEFG', 0, None, 2) --&gt; A C E G</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">s </code><code class="python keyword">=</code> <code class="python functions">slice</code><code class="python plain">(</code><code class="python keyword">*</code><code class="python plain">args)</code></div><div class="line number7 index6 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">it </code><code class="python keyword">=</code> <code class="python functions">iter</code><code class="python plain">(</code><code class="python functions">xrange</code><code class="python plain">(s.start </code><code class="python keyword">or</code> <code class="python value">0</code><code class="python plain">, s.stop </code><code class="python keyword">or</code> <code class="python plain">sys.maxint, s.step </code><code class="python keyword">or</code> <code class="python value">1</code><code class="python plain">))</code></div><div class="line number8 index7 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">nexti </code><code class="python keyword">=</code> <code class="python functions">next</code><code class="python plain">(it)</code></div><div class="line number9 index8 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code> <code class="python plain">i, element </code><code class="python keyword">in</code> <code class="python functions">enumerate</code><code class="python plain">(iterable):</code></div><div class="line number10 index9 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python plain">i </code><code class="python keyword">=</code><code class="python keyword">=</code> <code class="python plain">nexti:</code></div><div class="line number11 index10 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">yield</code> <code class="python plain">element</code></div><div class="line number12 index11 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">nexti </code><code class="python keyword">=</code> <code class="python functions">next</code><code class="python plain">(it)</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
<p>&nbsp;</p>
<p>使用</p>
<div class="codetitle"><a id="copybut31309" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code31309" class="codebody">&nbsp;</div>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_882737" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">from</code> <code class="python plain">itertools </code><code class="python keyword">import</code> <code class="python keyword">*</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;</code>&nbsp;</div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="python functions">print</code> <code class="python string">'Stop at 5:'</code></div><div class="line number5 index4 alt2"><code class="python keyword">for</code> <code class="python plain">i </code><code class="python keyword">in</code> <code class="python plain">islice(count(), </code><code class="python value">5</code><code class="python plain">):</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python functions">print</code> <code class="python plain">i</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="python functions">print</code> <code class="python string">'Start at 5, Stop at 10:'</code></div><div class="line number9 index8 alt2"><code class="python keyword">for</code> <code class="python plain">i </code><code class="python keyword">in</code> <code class="python plain">islice(count(), </code><code class="python value">5</code><code class="python plain">, </code><code class="python value">10</code><code class="python plain">):</code></div><div class="line number10 index9 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python functions">print</code> <code class="python plain">i</code></div><div class="line number11 index10 alt2">&nbsp;</div><div class="line number12 index11 alt1"><code class="python functions">print</code> <code class="python string">'By tens to 100:'</code></div><div class="line number13 index12 alt2"><code class="python keyword">for</code> <code class="python plain">i </code><code class="python keyword">in</code> <code class="python plain">islice(count(), </code><code class="python value">0</code><code class="python plain">, </code><code class="python value">100</code><code class="python plain">, </code><code class="python value">10</code><code class="python plain">):</code></div><div class="line number14 index13 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python functions">print</code> <code class="python plain">i</code></div><div class="line number15 index14 alt2">&nbsp;</div><div class="line number16 index15 alt1"><code class="python plain">Stop at </code><code class="python value">5</code><code class="python plain">:</code></div><div class="line number17 index16 alt2"><code class="python value">0</code></div><div class="line number18 index17 alt1"><code class="python value">1</code></div><div class="line number19 index18 alt2"><code class="python value">2</code></div><div class="line number20 index19 alt1"><code class="python value">3</code></div><div class="line number21 index20 alt2"><code class="python value">4</code></div><div class="line number22 index21 alt1"><code class="python plain">Start at </code><code class="python value">5</code><code class="python plain">, Stop at </code><code class="python value">10</code><code class="python plain">:</code></div><div class="line number23 index22 alt2"><code class="python value">5</code></div><div class="line number24 index23 alt1"><code class="python value">6</code></div><div class="line number25 index24 alt2"><code class="python value">7</code></div><div class="line number26 index25 alt1"><code class="python value">8</code></div><div class="line number27 index26 alt2"><code class="python value">9</code></div><div class="line number28 index27 alt1"><code class="python plain">By tens to </code><code class="python value">100</code><code class="python plain">:</code></div><div class="line number29 index28 alt2"><code class="python value">0</code></div><div class="line number30 index29 alt1"><code class="python value">10</code></div><div class="line number31 index30 alt2"><code class="python value">20</code></div><div class="line number32 index31 alt1"><code class="python value">30</code></div><div class="line number33 index32 alt2"><code class="python value">40</code></div><div class="line number34 index33 alt1"><code class="python value">50</code></div><div class="line number35 index34 alt2"><code class="python value">60</code></div><div class="line number36 index35 alt1"><code class="python value">70</code></div><div class="line number37 index36 alt2"><code class="python value">80</code></div><div class="line number38 index37 alt1"><code class="python value">90</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
<p>&nbsp;</p>
<p><strong>itertools.imap(function, *iterables)</strong></p>
<p>创建一个迭代器，生成项function(i1, i2, ..., iN)，其中i1，i2...iN分别来自迭代器iter1，iter2 ... iterN，如果function为None，则返回(i1, i2, ..., iN)形式的元组，只要提供的一个迭代器不再生成值，迭代就会停止。</p>
<p>即：返回一个迭代器, 它是调用了一个其值在输入迭代器上的函数, 返回结果. 它类似于内置函数 map() , 只是前者在任意输入迭代器结束后就停止(而不是插入None值来补全所有的输入).</p>
<p>返回序列每个元素被func执行后返回值的序列的迭代器</p>
<div class="codetitle"><a id="copybut8473" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code8473" class="codebody">&nbsp;</div>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_803487" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">def</code> <code class="python plain">imap(function, </code><code class="python keyword">*</code><code class="python plain">iterables):</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># imap(pow, (2,3,10), (5,2,3)) --&gt; 32 9 1000</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">iterables </code><code class="python keyword">=</code> <code class="python functions">map</code><code class="python plain">(</code><code class="python functions">iter</code><code class="python plain">, iterables)</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">while</code> <code class="python color1">True</code><code class="python plain">:</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">args </code><code class="python keyword">=</code> <code class="python plain">[</code><code class="python functions">next</code><code class="python plain">(it) </code><code class="python keyword">for</code> <code class="python plain">it </code><code class="python keyword">in</code> <code class="python plain">iterables]</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python plain">function </code><code class="python keyword">is</code> <code class="python color1">None</code><code class="python plain">:</code></div><div class="line number7 index6 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">yield</code> <code class="python functions">tuple</code><code class="python plain">(args)</code></div><div class="line number8 index7 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">else</code><code class="python plain">:</code></div><div class="line number9 index8 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">yield</code> <code class="python plain">function(</code><code class="python keyword">*</code><code class="python plain">args)</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
<p>&nbsp;</p>
<p>使用</p>
<div class="codetitle"><a id="copybut76979" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code76979" class="codebody">
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_750820" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">from</code> <code class="python plain">itertools </code><code class="python keyword">import</code> <code class="python keyword">*</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;</code>&nbsp;</div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="python functions">print</code> <code class="python string">'Doubles:'</code></div><div class="line number5 index4 alt2"><code class="python keyword">for</code> <code class="python plain">i </code><code class="python keyword">in</code> <code class="python plain">imap(</code><code class="python keyword">lambda</code> <code class="python plain">x:</code><code class="python value">2</code><code class="python keyword">*</code><code class="python plain">x, </code><code class="python functions">xrange</code><code class="python plain">(</code><code class="python value">5</code><code class="python plain">)):</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python functions">print</code> <code class="python plain">i</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="python functions">print</code> <code class="python string">'Multiples:'</code></div><div class="line number9 index8 alt2"><code class="python keyword">for</code> <code class="python plain">i </code><code class="python keyword">in</code> <code class="python plain">imap(</code><code class="python keyword">lambda</code> <code class="python plain">x,y:(x, y, x</code><code class="python keyword">*</code><code class="python plain">y), </code><code class="python functions">xrange</code><code class="python plain">(</code><code class="python value">5</code><code class="python plain">), </code><code class="python functions">xrange</code><code class="python plain">(</code><code class="python value">5</code><code class="python plain">,</code><code class="python value">10</code><code class="python plain">)):</code></div><div class="line number10 index9 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python functions">print</code> <code class="python string">'%d * %d = %d'</code> <code class="python keyword">%</code> <code class="python plain">i</code></div><div class="line number11 index10 alt2">&nbsp;</div><div class="line number12 index11 alt1"><code class="python plain">Doubles:</code></div><div class="line number13 index12 alt2"><code class="python value">0</code></div><div class="line number14 index13 alt1"><code class="python value">2</code></div><div class="line number15 index14 alt2"><code class="python value">4</code></div><div class="line number16 index15 alt1"><code class="python value">6</code></div><div class="line number17 index16 alt2"><code class="python value">8</code></div><div class="line number18 index17 alt1"><code class="python plain">Multiples:</code></div><div class="line number19 index18 alt2"><code class="python value">0</code> <code class="python keyword">*</code> <code class="python value">5</code> <code class="python keyword">=</code> <code class="python value">0</code></div><div class="line number20 index19 alt1"><code class="python value">1</code> <code class="python keyword">*</code> <code class="python value">6</code> <code class="python keyword">=</code> <code class="python value">6</code></div><div class="line number21 index20 alt2"><code class="python value">2</code> <code class="python keyword">*</code> <code class="python value">7</code> <code class="python keyword">=</code> <code class="python value">14</code></div><div class="line number22 index21 alt1"><code class="python value">3</code> <code class="python keyword">*</code> <code class="python value">8</code> <code class="python keyword">=</code> <code class="python value">24</code></div><div class="line number23 index22 alt2"><code class="python value">4</code> <code class="python keyword">*</code> <code class="python value">9</code> <code class="python keyword">=</code> <code class="python value">36</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
<br>
</div>
<p>&nbsp;</p>
<p><strong>itertools.starmap(function, iterable)</strong></p>
<p>创建一个迭代器，生成值func(*item),其中item来自iterable，只有当iterable生成的项适用于这种调用函数的方式时，此函数才有效。</p>
<p>对序列seq的每个元素作为func的参数列表执行, 返回执行结果的迭代器</p>
<div class="codetitle"><a id="copybut65230" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_83120" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">def</code> <code class="python plain">starmap(function, iterable):</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># starmap(pow, [(2,5), (3,2), (10,3)]) --&gt; 32 9 1000</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code> <code class="python plain">args </code><code class="python keyword">in</code> <code class="python plain">iterable:</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">yield</code> <code class="python plain">function(</code><code class="python keyword">*</code><code class="python plain">args)</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
</div>
<p> <br>使用</p>
<div class="codetitle"><a id="copybut478" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code478" class="codebody">
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_628175" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">from</code> <code class="python plain">itertools </code><code class="python keyword">import</code> <code class="python keyword">*</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;</code>&nbsp;</div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="python plain">values </code><code class="python keyword">=</code> <code class="python plain">[(</code><code class="python value">0</code><code class="python plain">, </code><code class="python value">5</code><code class="python plain">), (</code><code class="python value">1</code><code class="python plain">, </code><code class="python value">6</code><code class="python plain">), (</code><code class="python value">2</code><code class="python plain">, </code><code class="python value">7</code><code class="python plain">), (</code><code class="python value">3</code><code class="python plain">, </code><code class="python value">8</code><code class="python plain">), (</code><code class="python value">4</code><code class="python plain">, </code><code class="python value">9</code><code class="python plain">)]</code></div><div class="line number5 index4 alt2"><code class="python keyword">for</code> <code class="python plain">i </code><code class="python keyword">in</code> <code class="python plain">starmap(</code><code class="python keyword">lambda</code> <code class="python plain">x,y:(x, y, x</code><code class="python keyword">*</code><code class="python plain">y), values):</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python functions">print</code> <code class="python string">'%d * %d = %d'</code> <code class="python keyword">%</code> <code class="python plain">i</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="python value">0</code> <code class="python keyword">*</code> <code class="python value">5</code> <code class="python keyword">=</code> <code class="python value">0</code></div><div class="line number9 index8 alt2"><code class="python value">1</code> <code class="python keyword">*</code> <code class="python value">6</code> <code class="python keyword">=</code> <code class="python value">6</code></div><div class="line number10 index9 alt1"><code class="python value">2</code> <code class="python keyword">*</code> <code class="python value">7</code> <code class="python keyword">=</code> <code class="python value">14</code></div><div class="line number11 index10 alt2"><code class="python value">3</code> <code class="python keyword">*</code> <code class="python value">8</code> <code class="python keyword">=</code> <code class="python value">24</code></div><div class="line number12 index11 alt1"><code class="python value">4</code> <code class="python keyword">*</code> <code class="python value">9</code> <code class="python keyword">=</code> <code class="python value">36</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
<br>
</div>
<p>&nbsp;</p>
<p><strong>itertools.tee(iterable[, n=2])</strong></p>
<p>返回一些基于单个原始输入的独立迭代器(默认为2). 它和Unix上的tee工具有点语义相似, 也就是说它们都重复读取输入设备中的值并将值写入到一个命名文件和标准输出中</p>
<p>从iterable创建n个独立的迭代器，创建的迭代器以n元组的形式返回，n的默认值为2，此函数适用于任何可迭代的对象，但是，为了克隆原始迭代器，生成的项会被缓存，并在所有新创建的迭代器中使用，一定要注意，不要在调用tee()之后使用原始迭代器iterable，否则缓存机制可能无法正确工作。</p>
<p>把一个迭代器分为n个迭代器, 返回一个元组.默认是两个</p>
<div class="codetitle"><a id="copybut94733" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code94733" class="codebody">
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_495800" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">def</code> <code class="python plain">tee(iterable, n</code><code class="python keyword">=</code><code class="python value">2</code><code class="python plain">):</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">it </code><code class="python keyword">=</code> <code class="python functions">iter</code><code class="python plain">(iterable)</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">deques </code><code class="python keyword">=</code> <code class="python plain">[collections.deque() </code><code class="python keyword">for</code> <code class="python plain">i </code><code class="python keyword">in</code> <code class="python functions">range</code><code class="python plain">(n)]</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">def</code> <code class="python plain">gen(mydeque):</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">while</code> <code class="python color1">True</code><code class="python plain">:</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python keyword">not</code> <code class="python plain">mydeque:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="python comments"># when the local deque is empty</code></div><div class="line number7 index6 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">newval </code><code class="python keyword">=</code> <code class="python functions">next</code><code class="python plain">(it)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="python comments"># fetch a new value and</code></div><div class="line number8 index7 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code> <code class="python plain">d </code><code class="python keyword">in</code> <code class="python plain">deques:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="python comments"># load it to all the deques</code></div><div class="line number9 index8 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">d.append(newval)</code></div><div class="line number10 index9 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">yield</code> <code class="python plain">mydeque.popleft()</code></div><div class="line number11 index10 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python functions">tuple</code><code class="python plain">(gen(d) </code><code class="python keyword">for</code> <code class="python plain">d </code><code class="python keyword">in</code> <code class="python plain">deques)</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
</div>
<p>&nbsp;</p>
<p>使用</p>
<div class="codetitle"><a id="copybut38526" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code38526" class="codebody">&nbsp;</div>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_734564" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">from</code> <code class="python plain">itertools </code><code class="python keyword">import</code> <code class="python keyword">*</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;</code>&nbsp;</div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="python plain">r </code><code class="python keyword">=</code> <code class="python plain">islice(count(), </code><code class="python value">5</code><code class="python plain">)</code></div><div class="line number5 index4 alt2"><code class="python plain">i1, i2 </code><code class="python keyword">=</code> <code class="python plain">tee(r)</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="python keyword">for</code> <code class="python plain">i </code><code class="python keyword">in</code> <code class="python plain">i1:</code></div><div class="line number8 index7 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python functions">print</code> <code class="python string">'i1:'</code><code class="python plain">, i</code></div><div class="line number9 index8 alt2"><code class="python keyword">for</code> <code class="python plain">i </code><code class="python keyword">in</code> <code class="python plain">i2:</code></div><div class="line number10 index9 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python functions">print</code> <code class="python string">'i2:'</code><code class="python plain">, i</code></div><div class="line number11 index10 alt2">&nbsp;</div><div class="line number12 index11 alt1"><code class="python plain">i1: </code><code class="python value">0</code></div><div class="line number13 index12 alt2"><code class="python plain">i1: </code><code class="python value">1</code></div><div class="line number14 index13 alt1"><code class="python plain">i1: </code><code class="python value">2</code></div><div class="line number15 index14 alt2"><code class="python plain">i1: </code><code class="python value">3</code></div><div class="line number16 index15 alt1"><code class="python plain">i1: </code><code class="python value">4</code></div><div class="line number17 index16 alt2"><code class="python plain">i2: </code><code class="python value">0</code></div><div class="line number18 index17 alt1"><code class="python plain">i2: </code><code class="python value">1</code></div><div class="line number19 index18 alt2"><code class="python plain">i2: </code><code class="python value">2</code></div><div class="line number20 index19 alt1"><code class="python plain">i2: </code><code class="python value">3</code></div><div class="line number21 index20 alt2"><code class="python plain">i2: </code><code class="python value">4</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
<p>&nbsp;</p>
<p><strong>itertools.takewhile(predicate, iterable)</strong></p>
<p>和dropwhile相反</p>
<p>创建一个迭代器，生成iterable中predicate(item)为True的项，只要predicate计算为False，迭代就会立即停止。</p>
<p>即：从序列的头开始, 直到执行函数func失败.</p>
<div class="codetitle"><a id="copybut80588" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code80588" class="codebody">
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_151009" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">def</code> <code class="python plain">takewhile(predicate, iterable):</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># takewhile(lambda x: x&lt;5, [1,4,6,4,1]) --&gt; 1 4</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code> <code class="python plain">x </code><code class="python keyword">in</code> <code class="python plain">iterable:</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python plain">predicate(x):</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">yield</code> <code class="python plain">x</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">else</code><code class="python plain">:</code></div><div class="line number7 index6 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">break</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
</div>
<p>&nbsp;</p>
<p>使用</p>
<div class="codetitle"><a id="copybut27845" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code27845" class="codebody">
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_69878" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">from</code> <code class="python plain">itertools </code><code class="python keyword">import</code> <code class="python keyword">*</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;</code>&nbsp;</div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="python keyword">def</code> <code class="python plain">should_take(x):</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python functions">print</code> <code class="python string">'Testing:'</code><code class="python plain">, x</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python plain">(x&lt;</code><code class="python value">2</code><code class="python plain">)</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="python keyword">for</code> <code class="python plain">i </code><code class="python keyword">in</code> <code class="python plain">takewhile(should_take, [ </code><code class="python keyword">-</code><code class="python value">1</code><code class="python plain">, </code><code class="python value">0</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">, </code><code class="python value">2</code><code class="python plain">, </code><code class="python value">3</code><code class="python plain">, </code><code class="python value">4</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">, </code><code class="python keyword">-</code><code class="python value">2</code> <code class="python plain">]):</code></div><div class="line number9 index8 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python functions">print</code> <code class="python string">'Yielding:'</code><code class="python plain">, i</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="python plain">Testing: </code><code class="python keyword">-</code><code class="python value">1</code></div><div class="line number12 index11 alt1"><code class="python plain">Yielding: </code><code class="python keyword">-</code><code class="python value">1</code></div><div class="line number13 index12 alt2"><code class="python plain">Testing: </code><code class="python value">0</code></div><div class="line number14 index13 alt1"><code class="python plain">Yielding: </code><code class="python value">0</code></div><div class="line number15 index14 alt2"><code class="python plain">Testing: </code><code class="python value">1</code></div><div class="line number16 index15 alt1"><code class="python plain">Yielding: </code><code class="python value">1</code></div><div class="line number17 index16 alt2"><code class="python plain">Testing: </code><code class="python value">2</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
<br>
</div>
<p>&nbsp;</p>
<p><strong>itertools.izip(*iterables)</strong></p>
<p>返回一个合并了多个迭代器为一个元组的迭代器. 它类似于内置函数zip(), 只是它返回的是一个迭代器而不是一个列表</p>
<p>创建一个迭代器，生成元组(i1, i2, ... iN)，其中i1，i2 ... iN 分别来自迭代器iter1，iter2 ... iterN，只要提供的某个迭代器不再生成值，迭代就会停止，此函数生成的值与内置的zip()函数相同。</p>
<div class="codetitle"><a id="copybut39190" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code39190" class="codebody">
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_807714" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">izip(iter1, iter2, ... iterN):</code></div><div class="line number2 index1 alt1"><code class="python plain">返回:(it1[</code><code class="python value">0</code><code class="python plain">],it2 [</code><code class="python value">0</code><code class="python plain">], it3[</code><code class="python value">0</code><code class="python plain">], ..), (it1[</code><code class="python value">1</code><code class="python plain">], it2[</code><code class="python value">1</code><code class="python plain">], it3[</code><code class="python value">1</code><code class="python plain">], ..)...</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;</code>&nbsp;</div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="python keyword">def</code> <code class="python plain">izip(</code><code class="python keyword">*</code><code class="python plain">iterables):</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># izip('ABCD', 'xy') --&gt; Ax By</code></div><div class="line number7 index6 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">iterators </code><code class="python keyword">=</code> <code class="python functions">map</code><code class="python plain">(</code><code class="python functions">iter</code><code class="python plain">, iterables)</code></div><div class="line number8 index7 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">while</code> <code class="python plain">iterators:</code></div><div class="line number9 index8 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">yield</code> <code class="python functions">tuple</code><code class="python plain">(</code><code class="python functions">map</code><code class="python plain">(</code><code class="python functions">next</code><code class="python plain">, iterators))</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
<br>
</div>
<p>&nbsp;</p>
<p>使用</p>
<div class="codetitle"><a id="copybut31713" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code31713" class="codebody">
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_355753" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">from</code> <code class="python plain">itertools </code><code class="python keyword">import</code> <code class="python keyword">*</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;</code>&nbsp;</div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="python keyword">for</code> <code class="python plain">i </code><code class="python keyword">in</code> <code class="python plain">izip([</code><code class="python value">1</code><code class="python plain">, </code><code class="python value">2</code><code class="python plain">, </code><code class="python value">3</code><code class="python plain">], [</code><code class="python string">'a'</code><code class="python plain">, </code><code class="python string">'b'</code><code class="python plain">, </code><code class="python string">'c'</code><code class="python plain">]):</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python functions">print</code> <code class="python plain">i</code></div><div class="line number6 index5 alt1"><code class="python plain">(</code><code class="python value">1</code><code class="python plain">, </code><code class="python string">'a'</code><code class="python plain">)</code></div><div class="line number7 index6 alt2"><code class="python plain">(</code><code class="python value">2</code><code class="python plain">, </code><code class="python string">'b'</code><code class="python plain">)</code></div><div class="line number8 index7 alt1"><code class="python plain">(</code><code class="python value">3</code><code class="python plain">, </code><code class="python string">'c'</code><code class="python plain">)</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
<br>
</div>
<p>
<br><strong>itertools.izip_longest(*iterables[, fillvalue])</strong></p>
<p>&nbsp;</p>
<p>与izip()相同，但是迭代过程会持续到所有输入迭代变量iter1,iter2等都耗尽为止，如果没有使用fillvalue关键字参数指定不同的值，则使用None来填充已经使用的迭代变量的值。</p>
<p>&nbsp;</p>
<div class="codetitle"><a id="copybut54144" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code54144" class="codebody">
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_654416" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">class</code> <code class="python plain">ZipExhausted(Exception):</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">pass</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;</code>&nbsp;</div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="python keyword">def</code> <code class="python plain">izip_longest(</code><code class="python keyword">*</code><code class="python plain">args, </code><code class="python keyword">*</code><code class="python keyword">*</code><code class="python plain">kwds):</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># izip_longest('ABCD', 'xy', fillvalue='-') --&gt; Ax By C- D-</code></div><div class="line number7 index6 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">fillvalue </code><code class="python keyword">=</code> <code class="python plain">kwds.get(</code><code class="python string">'fillvalue'</code><code class="python plain">)</code></div><div class="line number8 index7 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">counter </code><code class="python keyword">=</code> <code class="python plain">[</code><code class="python functions">len</code><code class="python plain">(args) </code><code class="python keyword">-</code> <code class="python value">1</code><code class="python plain">]</code></div><div class="line number9 index8 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">def</code> <code class="python plain">sentinel():</code></div><div class="line number10 index9 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python keyword">not</code> <code class="python plain">counter[</code><code class="python value">0</code><code class="python plain">]:</code></div><div class="line number11 index10 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">raise</code> <code class="python plain">ZipExhausted</code></div><div class="line number12 index11 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">counter[</code><code class="python value">0</code><code class="python plain">] </code><code class="python keyword">-</code><code class="python keyword">=</code> <code class="python value">1</code></div><div class="line number13 index12 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">yield</code> <code class="python plain">fillvalue</code></div><div class="line number14 index13 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">fillers </code><code class="python keyword">=</code> <code class="python plain">repeat(fillvalue)</code></div><div class="line number15 index14 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">iterators </code><code class="python keyword">=</code> <code class="python plain">[chain(it, sentinel(), fillers) </code><code class="python keyword">for</code> <code class="python plain">it </code><code class="python keyword">in</code> <code class="python plain">args]</code></div><div class="line number16 index15 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">try</code><code class="python plain">:</code></div><div class="line number17 index16 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">while</code> <code class="python plain">iterators:</code></div><div class="line number18 index17 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">yield</code> <code class="python functions">tuple</code><code class="python plain">(</code><code class="python functions">map</code><code class="python plain">(</code><code class="python functions">next</code><code class="python plain">, iterators))</code></div><div class="line number19 index18 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">except</code> <code class="python plain">ZipExhausted:</code></div><div class="line number20 index19 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">pass</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
<br>
</div>
<p>&nbsp;</p>
<p>第三部分</p>
<p><strong>itertools.product(*iterables[, repeat])</strong></p>
<p>笛卡尔积</p>
<p>创建一个迭代器，生成表示item1，item2等中的项目的笛卡尔积的元组，repeat是一个关键字参数，指定重复生成序列的次数。</p>
<div class="codetitle"><a id="copybut60294" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code60294" class="codebody">&nbsp;</div>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_621747" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">def</code> <code class="python plain">product(</code><code class="python keyword">*</code><code class="python plain">args, </code><code class="python keyword">*</code><code class="python keyword">*</code><code class="python plain">kwds):</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># product('ABCD', 'xy') --&gt; Ax Ay Bx By Cx Cy Dx Dy</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># product(range(2), repeat=3) --&gt; 000 001 010 011 100 101 110 111</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">pools </code><code class="python keyword">=</code> <code class="python functions">map</code><code class="python plain">(</code><code class="python functions">tuple</code><code class="python plain">, args) </code><code class="python keyword">*</code> <code class="python plain">kwds.get(</code><code class="python string">'repeat'</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">)</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">result </code><code class="python keyword">=</code> <code class="python plain">[[]]</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code> <code class="python plain">pool </code><code class="python keyword">in</code> <code class="python plain">pools:</code></div><div class="line number7 index6 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">result </code><code class="python keyword">=</code> <code class="python plain">[x</code><code class="python keyword">+</code><code class="python plain">[y] </code><code class="python keyword">for</code> <code class="python plain">x </code><code class="python keyword">in</code> <code class="python plain">result </code><code class="python keyword">for</code> <code class="python plain">y </code><code class="python keyword">in</code> <code class="python plain">pool]</code></div><div class="line number8 index7 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code> <code class="python plain">prod </code><code class="python keyword">in</code> <code class="python plain">result:</code></div><div class="line number9 index8 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">yield</code> <code class="python functions">tuple</code><code class="python plain">(prod)</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
<p>&nbsp;</p>
<p>例子</p>
<div class="codetitle"><a id="copybut88729" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code88729" class="codebody">
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_434770" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">import</code> <code class="python plain">itertools</code></div><div class="line number2 index1 alt1"><code class="python plain">a </code><code class="python keyword">=</code> <code class="python plain">(</code><code class="python value">1</code><code class="python plain">, </code><code class="python value">2</code><code class="python plain">, </code><code class="python value">3</code><code class="python plain">)</code></div><div class="line number3 index2 alt2"><code class="python plain">b </code><code class="python keyword">=</code> <code class="python plain">(</code><code class="python string">'A'</code><code class="python plain">, </code><code class="python string">'B'</code><code class="python plain">, </code><code class="python string">'C'</code><code class="python plain">)</code></div><div class="line number4 index3 alt1"><code class="python plain">c </code><code class="python keyword">=</code> <code class="python plain">itertools.product(a,b)</code></div><div class="line number5 index4 alt2"><code class="python keyword">for</code> <code class="python plain">elem </code><code class="python keyword">in</code> <code class="python plain">c:</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python functions">print</code> <code class="python plain">elem</code></div><div class="line number7 index6 alt2"><code class="python spaces">&nbsp;</code>&nbsp;</div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="python plain">(</code><code class="python value">1</code><code class="python plain">, </code><code class="python string">'A'</code><code class="python plain">)</code></div><div class="line number10 index9 alt1"><code class="python plain">(</code><code class="python value">1</code><code class="python plain">, </code><code class="python string">'B'</code><code class="python plain">)</code></div><div class="line number11 index10 alt2"><code class="python plain">(</code><code class="python value">1</code><code class="python plain">, </code><code class="python string">'C'</code><code class="python plain">)</code></div><div class="line number12 index11 alt1"><code class="python plain">(</code><code class="python value">2</code><code class="python plain">, </code><code class="python string">'A'</code><code class="python plain">)</code></div><div class="line number13 index12 alt2"><code class="python plain">(</code><code class="python value">2</code><code class="python plain">, </code><code class="python string">'B'</code><code class="python plain">)</code></div><div class="line number14 index13 alt1"><code class="python plain">(</code><code class="python value">2</code><code class="python plain">, </code><code class="python string">'C'</code><code class="python plain">)</code></div><div class="line number15 index14 alt2"><code class="python plain">(</code><code class="python value">3</code><code class="python plain">, </code><code class="python string">'A'</code><code class="python plain">)</code></div><div class="line number16 index15 alt1"><code class="python plain">(</code><code class="python value">3</code><code class="python plain">, </code><code class="python string">'B'</code><code class="python plain">)</code></div><div class="line number17 index16 alt2"><code class="python plain">(</code><code class="python value">3</code><code class="python plain">, </code><code class="python string">'C'</code><code class="python plain">)</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
<br>
</div>
<p>&nbsp;</p>
<p><strong>itertools.permutations(iterable[, r])</strong></p>
<p>排列</p>
<p>创建一个迭代器，返回iterable中所有长度为r的项目序列，如果省略了r，那么序列的长度与iterable中的项目数量相同： 返回p中任意取r个元素做排列的元组的迭代器</p>
<div class="codetitle"><a id="copybut29981" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code29981" class="codebody">
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_749760" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">def</code> <code class="python plain">permutations(iterable, r</code><code class="python keyword">=</code><code class="python color1">None</code><code class="python plain">):</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># permutations('ABCD', 2) --&gt; AB AC AD BA BC BD CA CB CD DA DB DC</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># permutations(range(3)) --&gt; 012 021 102 120 201 210</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">pool </code><code class="python keyword">=</code> <code class="python functions">tuple</code><code class="python plain">(iterable)</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">n </code><code class="python keyword">=</code> <code class="python functions">len</code><code class="python plain">(pool)</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">r </code><code class="python keyword">=</code> <code class="python plain">n </code><code class="python keyword">if</code> <code class="python plain">r </code><code class="python keyword">is</code> <code class="python color1">None</code> <code class="python keyword">else</code> <code class="python plain">r</code></div><div class="line number7 index6 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python plain">r &gt; n:</code></div><div class="line number8 index7 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code></div><div class="line number9 index8 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">indices </code><code class="python keyword">=</code> <code class="python functions">range</code><code class="python plain">(n)</code></div><div class="line number10 index9 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">cycles </code><code class="python keyword">=</code> <code class="python functions">range</code><code class="python plain">(n, n</code><code class="python keyword">-</code><code class="python plain">r, </code><code class="python keyword">-</code><code class="python value">1</code><code class="python plain">)</code></div><div class="line number11 index10 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">yield</code> <code class="python functions">tuple</code><code class="python plain">(pool[i] </code><code class="python keyword">for</code> <code class="python plain">i </code><code class="python keyword">in</code> <code class="python plain">indices[:r])</code></div><div class="line number12 index11 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">while</code> <code class="python plain">n:</code></div><div class="line number13 index12 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code> <code class="python plain">i </code><code class="python keyword">in</code> <code class="python functions">reversed</code><code class="python plain">(</code><code class="python functions">range</code><code class="python plain">(r)):</code></div><div class="line number14 index13 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">cycles[i] </code><code class="python keyword">-</code><code class="python keyword">=</code> <code class="python value">1</code></div><div class="line number15 index14 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python plain">cycles[i] </code><code class="python keyword">=</code><code class="python keyword">=</code> <code class="python value">0</code><code class="python plain">:</code></div><div class="line number16 index15 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">indices[i:] </code><code class="python keyword">=</code> <code class="python plain">indices[i</code><code class="python keyword">+</code><code class="python value">1</code><code class="python plain">:] </code><code class="python keyword">+</code> <code class="python plain">indices[i:i</code><code class="python keyword">+</code><code class="python value">1</code><code class="python plain">]</code></div><div class="line number17 index16 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">cycles[i] </code><code class="python keyword">=</code> <code class="python plain">n </code><code class="python keyword">-</code> <code class="python plain">i</code></div><div class="line number18 index17 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">else</code><code class="python plain">:</code></div><div class="line number19 index18 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">j </code><code class="python keyword">=</code> <code class="python plain">cycles[i]</code></div><div class="line number20 index19 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">indices[i], indices[</code><code class="python keyword">-</code><code class="python plain">j] </code><code class="python keyword">=</code> <code class="python plain">indices[</code><code class="python keyword">-</code><code class="python plain">j], indices[i]</code></div><div class="line number21 index20 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">yield</code> <code class="python functions">tuple</code><code class="python plain">(pool[i] </code><code class="python keyword">for</code> <code class="python plain">i </code><code class="python keyword">in</code> <code class="python plain">indices[:r])</code></div><div class="line number22 index21 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">break</code></div><div class="line number23 index22 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">else</code><code class="python plain">:</code></div><div class="line number24 index23 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code></div><div class="line number25 index24 alt2"><code class="python plain">也可以用product实现</code></div><div class="line number26 index25 alt1"><code class="python spaces">&nbsp;</code>&nbsp;</div><div class="line number27 index26 alt2">&nbsp;</div><div class="line number28 index27 alt1"><code class="python keyword">def</code> <code class="python plain">permutations(iterable, r</code><code class="python keyword">=</code><code class="python color1">None</code><code class="python plain">):</code></div><div class="line number29 index28 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">pool </code><code class="python keyword">=</code> <code class="python functions">tuple</code><code class="python plain">(iterable)</code></div><div class="line number30 index29 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">n </code><code class="python keyword">=</code> <code class="python functions">len</code><code class="python plain">(pool)</code></div><div class="line number31 index30 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">r </code><code class="python keyword">=</code> <code class="python plain">n </code><code class="python keyword">if</code> <code class="python plain">r </code><code class="python keyword">is</code> <code class="python color1">None</code> <code class="python keyword">else</code> <code class="python plain">r</code></div><div class="line number32 index31 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code> <code class="python plain">indices </code><code class="python keyword">in</code> <code class="python plain">product(</code><code class="python functions">range</code><code class="python plain">(n), repeat</code><code class="python keyword">=</code><code class="python plain">r):</code></div><div class="line number33 index32 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python functions">len</code><code class="python plain">(</code><code class="python functions">set</code><code class="python plain">(indices)) </code><code class="python keyword">=</code><code class="python keyword">=</code> <code class="python plain">r:</code></div><div class="line number34 index33 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">yield</code> <code class="python functions">tuple</code><code class="python plain">(pool[i] </code><code class="python keyword">for</code> <code class="python plain">i </code><code class="python keyword">in</code> <code class="python plain">indices)</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
<br>
</div>
<p>&nbsp;</p>
<p><strong>itertools.combinations(iterable, r)</strong></p>
<p>创建一个迭代器，返回iterable中所有长度为r的子序列，返回的子序列中的项按输入iterable中的顺序排序 (不带重复)</p>
<div class="codetitle"><a id="copybut32781" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code32781" class="codebody">
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_419259" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">def</code> <code class="python plain">combinations(iterable, r):</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># combinations('ABCD', 2) --&gt; AB AC AD BC BD CD</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># combinations(range(4), 3) --&gt; 012 013 023 123</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">pool </code><code class="python keyword">=</code> <code class="python functions">tuple</code><code class="python plain">(iterable)</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">n </code><code class="python keyword">=</code> <code class="python functions">len</code><code class="python plain">(pool)</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python plain">r &gt; n:</code></div><div class="line number7 index6 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code></div><div class="line number8 index7 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">indices </code><code class="python keyword">=</code> <code class="python functions">range</code><code class="python plain">(r)</code></div><div class="line number9 index8 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">yield</code> <code class="python functions">tuple</code><code class="python plain">(pool[i] </code><code class="python keyword">for</code> <code class="python plain">i </code><code class="python keyword">in</code> <code class="python plain">indices)</code></div><div class="line number10 index9 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">while</code> <code class="python color1">True</code><code class="python plain">:</code></div><div class="line number11 index10 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code> <code class="python plain">i </code><code class="python keyword">in</code> <code class="python functions">reversed</code><code class="python plain">(</code><code class="python functions">range</code><code class="python plain">(r)):</code></div><div class="line number12 index11 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python plain">indices[i] !</code><code class="python keyword">=</code> <code class="python plain">i </code><code class="python keyword">+</code> <code class="python plain">n </code><code class="python keyword">-</code> <code class="python plain">r:</code></div><div class="line number13 index12 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">break</code></div><div class="line number14 index13 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">else</code><code class="python plain">:</code></div><div class="line number15 index14 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code></div><div class="line number16 index15 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">indices[i] </code><code class="python keyword">+</code><code class="python keyword">=</code> <code class="python value">1</code></div><div class="line number17 index16 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code> <code class="python plain">j </code><code class="python keyword">in</code> <code class="python functions">range</code><code class="python plain">(i</code><code class="python keyword">+</code><code class="python value">1</code><code class="python plain">, r):</code></div><div class="line number18 index17 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">indices[j] </code><code class="python keyword">=</code> <code class="python plain">indices[j</code><code class="python keyword">-</code><code class="python value">1</code><code class="python plain">] </code><code class="python keyword">+</code> <code class="python value">1</code></div><div class="line number19 index18 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">yield</code> <code class="python functions">tuple</code><code class="python plain">(pool[i] </code><code class="python keyword">for</code> <code class="python plain">i </code><code class="python keyword">in</code> <code class="python plain">indices)</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
<br>
<p>&nbsp;</p>
<p>#或者</p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_959439" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">def</code> <code class="python plain">combinations(iterable, r):</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">pool </code><code class="python keyword">=</code> <code class="python functions">tuple</code><code class="python plain">(iterable)</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">n </code><code class="python keyword">=</code> <code class="python functions">len</code><code class="python plain">(pool)</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code> <code class="python plain">indices </code><code class="python keyword">in</code> <code class="python plain">permutations(</code><code class="python functions">range</code><code class="python plain">(n), r):</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python functions">sorted</code><code class="python plain">(indices) </code><code class="python keyword">=</code><code class="python keyword">=</code> <code class="python functions">list</code><code class="python plain">(indices):</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">yield</code> <code class="python functions">tuple</code><code class="python plain">(pool[i] </code><code class="python keyword">for</code> <code class="python plain">i </code><code class="python keyword">in</code> <code class="python plain">indices)</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
</div>
<p>&nbsp;</p>
<p><strong>itertools.combinations_with_replacement(iterable, r)</strong></p>
<p>创建一个迭代器，返回iterable中所有长度为r的子序列，返回的子序列中的项按输入iterable中的顺序排序 (带重复)</p>
<div class="codetitle"><a id="copybut50940" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code50940" class="codebody">
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_698588" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">def</code> <code class="python plain">combinations_with_replacement(iterable, r):</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># combinations_with_replacement('ABC', 2) --&gt; AA AB AC BB BC CC</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">pool </code><code class="python keyword">=</code> <code class="python functions">tuple</code><code class="python plain">(iterable)</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">n </code><code class="python keyword">=</code> <code class="python functions">len</code><code class="python plain">(pool)</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python keyword">not</code> <code class="python plain">n </code><code class="python keyword">and</code> <code class="python plain">r:</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code></div><div class="line number7 index6 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">indices </code><code class="python keyword">=</code> <code class="python plain">[</code><code class="python value">0</code><code class="python plain">] </code><code class="python keyword">*</code> <code class="python plain">r</code></div><div class="line number8 index7 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">yield</code> <code class="python functions">tuple</code><code class="python plain">(pool[i] </code><code class="python keyword">for</code> <code class="python plain">i </code><code class="python keyword">in</code> <code class="python plain">indices)</code></div><div class="line number9 index8 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">while</code> <code class="python color1">True</code><code class="python plain">:</code></div><div class="line number10 index9 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code> <code class="python plain">i </code><code class="python keyword">in</code> <code class="python functions">reversed</code><code class="python plain">(</code><code class="python functions">range</code><code class="python plain">(r)):</code></div><div class="line number11 index10 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python plain">indices[i] !</code><code class="python keyword">=</code> <code class="python plain">n </code><code class="python keyword">-</code> <code class="python value">1</code><code class="python plain">:</code></div><div class="line number12 index11 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">break</code></div><div class="line number13 index12 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">else</code><code class="python plain">:</code></div><div class="line number14 index13 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code></div><div class="line number15 index14 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">indices[i:] </code><code class="python keyword">=</code> <code class="python plain">[indices[i] </code><code class="python keyword">+</code> <code class="python value">1</code><code class="python plain">] </code><code class="python keyword">*</code> <code class="python plain">(r </code><code class="python keyword">-</code> <code class="python plain">i)</code></div><div class="line number16 index15 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">yield</code> <code class="python functions">tuple</code><code class="python plain">(pool[i] </code><code class="python keyword">for</code> <code class="python plain">i </code><code class="python keyword">in</code> <code class="python plain">indices)</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
<br>或者
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_54712" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">def</code> <code class="python plain">combinations_with_replacement(iterable, r):</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">pool </code><code class="python keyword">=</code> <code class="python functions">tuple</code><code class="python plain">(iterable)</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">n </code><code class="python keyword">=</code> <code class="python functions">len</code><code class="python plain">(pool)</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code> <code class="python plain">indices </code><code class="python keyword">in</code> <code class="python plain">product(</code><code class="python functions">range</code><code class="python plain">(n), repeat</code><code class="python keyword">=</code><code class="python plain">r):</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python functions">sorted</code><code class="python plain">(indices) </code><code class="python keyword">=</code><code class="python keyword">=</code> <code class="python functions">list</code><code class="python plain">(indices):</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">yield</code> <code class="python functions">tuple</code><code class="python plain">(pool[i] </code><code class="python keyword">for</code> <code class="python plain">i </code><code class="python keyword">in</code> <code class="python plain">indices)</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
</div>
<p>&nbsp;</p>
<p>第四部分</p>
<p>扩展</p>
<p>使用现有扩展功能</p>
<div class="codetitle"><a id="copybut69907" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code69907" class="codebody">&nbsp;</div>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_328673" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div><div class="line number101 index100 alt2">101</div><div class="line number102 index101 alt1">102</div><div class="line number103 index102 alt2">103</div><div class="line number104 index103 alt1">104</div><div class="line number105 index104 alt2">105</div><div class="line number106 index105 alt1">106</div><div class="line number107 index106 alt2">107</div><div class="line number108 index107 alt1">108</div><div class="line number109 index108 alt2">109</div><div class="line number110 index109 alt1">110</div><div class="line number111 index110 alt2">111</div><div class="line number112 index111 alt1">112</div><div class="line number113 index112 alt2">113</div><div class="line number114 index113 alt1">114</div><div class="line number115 index114 alt2">115</div><div class="line number116 index115 alt1">116</div><div class="line number117 index116 alt2">117</div><div class="line number118 index117 alt1">118</div><div class="line number119 index118 alt2">119</div><div class="line number120 index119 alt1">120</div><div class="line number121 index120 alt2">121</div><div class="line number122 index121 alt1">122</div><div class="line number123 index122 alt2">123</div><div class="line number124 index123 alt1">124</div><div class="line number125 index124 alt2">125</div><div class="line number126 index125 alt1">126</div><div class="line number127 index126 alt2">127</div><div class="line number128 index127 alt1">128</div><div class="line number129 index128 alt2">129</div><div class="line number130 index129 alt1">130</div><div class="line number131 index130 alt2">131</div><div class="line number132 index131 alt1">132</div><div class="line number133 index132 alt2">133</div><div class="line number134 index133 alt1">134</div><div class="line number135 index134 alt2">135</div><div class="line number136 index135 alt1">136</div><div class="line number137 index136 alt2">137</div><div class="line number138 index137 alt1">138</div><div class="line number139 index138 alt2">139</div><div class="line number140 index139 alt1">140</div><div class="line number141 index140 alt2">141</div><div class="line number142 index141 alt1">142</div><div class="line number143 index142 alt2">143</div><div class="line number144 index143 alt1">144</div><div class="line number145 index144 alt2">145</div><div class="line number146 index145 alt1">146</div><div class="line number147 index146 alt2">147</div><div class="line number148 index147 alt1">148</div><div class="line number149 index148 alt2">149</div><div class="line number150 index149 alt1">150</div><div class="line number151 index150 alt2">151</div><div class="line number152 index151 alt1">152</div><div class="line number153 index152 alt2">153</div><div class="line number154 index153 alt1">154</div><div class="line number155 index154 alt2">155</div><div class="line number156 index155 alt1">156</div><div class="line number157 index156 alt2">157</div><div class="line number158 index157 alt1">158</div><div class="line number159 index158 alt2">159</div><div class="line number160 index159 alt1">160</div><div class="line number161 index160 alt2">161</div><div class="line number162 index161 alt1">162</div><div class="line number163 index162 alt2">163</div><div class="line number164 index163 alt1">164</div><div class="line number165 index164 alt2">165</div><div class="line number166 index165 alt1">166</div><div class="line number167 index166 alt2">167</div><div class="line number168 index167 alt1">168</div><div class="line number169 index168 alt2">169</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">def</code> <code class="python plain">take(n, iterable):</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"Return first n items of the iterable as a list"</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python functions">list</code><code class="python plain">(islice(iterable, n))</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;</code>&nbsp;</div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="python keyword">def</code> <code class="python plain">tabulate(function, start</code><code class="python keyword">=</code><code class="python value">0</code><code class="python plain">):</code></div><div class="line number7 index6 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"Return function(0), function(1), ..."</code></div><div class="line number8 index7 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python plain">imap(function, count(start))</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="python keyword">def</code> <code class="python plain">consume(iterator, n):</code></div><div class="line number11 index10 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"Advance the iterator n-steps ahead. If n is none, consume entirely."</code></div><div class="line number12 index11 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># Use functions that consume iterators at C speed.</code></div><div class="line number13 index12 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python plain">n </code><code class="python keyword">is</code> <code class="python color1">None</code><code class="python plain">:</code></div><div class="line number14 index13 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># feed the entire iterator into a zero-length deque</code></div><div class="line number15 index14 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">collections.deque(iterator, maxlen</code><code class="python keyword">=</code><code class="python value">0</code><code class="python plain">)</code></div><div class="line number16 index15 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">else</code><code class="python plain">:</code></div><div class="line number17 index16 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># advance to the empty slice starting at position n</code></div><div class="line number18 index17 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python functions">next</code><code class="python plain">(islice(iterator, n, n), </code><code class="python color1">None</code><code class="python plain">)</code></div><div class="line number19 index18 alt2">&nbsp;</div><div class="line number20 index19 alt1"><code class="python keyword">def</code> <code class="python plain">nth(iterable, n, default</code><code class="python keyword">=</code><code class="python color1">None</code><code class="python plain">):</code></div><div class="line number21 index20 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"Returns the nth item or a default value"</code></div><div class="line number22 index21 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python functions">next</code><code class="python plain">(islice(iterable, n, </code><code class="python color1">None</code><code class="python plain">), default)</code></div><div class="line number23 index22 alt2">&nbsp;</div><div class="line number24 index23 alt1"><code class="python keyword">def</code> <code class="python plain">quantify(iterable, pred</code><code class="python keyword">=</code><code class="python functions">bool</code><code class="python plain">):</code></div><div class="line number25 index24 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"Count how many times the predicate is true"</code></div><div class="line number26 index25 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python functions">sum</code><code class="python plain">(imap(pred, iterable))</code></div><div class="line number27 index26 alt2">&nbsp;</div><div class="line number28 index27 alt1"><code class="python keyword">def</code> <code class="python plain">padnone(iterable):</code></div><div class="line number29 index28 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">"""Returns the sequence elements and then returns None indefinitely.</code></div><div class="line number30 index29 alt1">&nbsp;</div><div class="line number31 index30 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">Useful for emulating the behavior of the built-in map() function.</code></div><div class="line number32 index31 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">"""</code></div><div class="line number33 index32 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python plain">chain(iterable, repeat(</code><code class="python color1">None</code><code class="python plain">))</code></div><div class="line number34 index33 alt1">&nbsp;</div><div class="line number35 index34 alt2"><code class="python keyword">def</code> <code class="python plain">ncycles(iterable, n):</code></div><div class="line number36 index35 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"Returns the sequence elements n times"</code></div><div class="line number37 index36 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python plain">chain.from_iterable(repeat(</code><code class="python functions">tuple</code><code class="python plain">(iterable), n))</code></div><div class="line number38 index37 alt1">&nbsp;</div><div class="line number39 index38 alt2"><code class="python keyword">def</code> <code class="python plain">dotproduct(vec1, vec2):</code></div><div class="line number40 index39 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python functions">sum</code><code class="python plain">(imap(operator.mul, vec1, vec2))</code></div><div class="line number41 index40 alt2">&nbsp;</div><div class="line number42 index41 alt1"><code class="python keyword">def</code> <code class="python plain">flatten(listOfLists):</code></div><div class="line number43 index42 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"Flatten one level of nesting"</code></div><div class="line number44 index43 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python plain">chain.from_iterable(listOfLists)</code></div><div class="line number45 index44 alt2">&nbsp;</div><div class="line number46 index45 alt1"><code class="python keyword">def</code> <code class="python plain">repeatfunc(func, times</code><code class="python keyword">=</code><code class="python color1">None</code><code class="python plain">, </code><code class="python keyword">*</code><code class="python plain">args):</code></div><div class="line number47 index46 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">"""Repeat calls to func with specified arguments.</code></div><div class="line number48 index47 alt1">&nbsp;</div><div class="line number49 index48 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">Example:&nbsp; repeatfunc(random.random)</code></div><div class="line number50 index49 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">"""</code></div><div class="line number51 index50 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python plain">times </code><code class="python keyword">is</code> <code class="python color1">None</code><code class="python plain">:</code></div><div class="line number52 index51 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python plain">starmap(func, repeat(args))</code></div><div class="line number53 index52 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python plain">starmap(func, repeat(args, times))</code></div><div class="line number54 index53 alt1">&nbsp;</div><div class="line number55 index54 alt2"><code class="python keyword">def</code> <code class="python plain">pairwise(iterable):</code></div><div class="line number56 index55 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"s -&gt; (s0,s1), (s1,s2), (s2, s3), ..."</code></div><div class="line number57 index56 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">a, b </code><code class="python keyword">=</code> <code class="python plain">tee(iterable)</code></div><div class="line number58 index57 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python functions">next</code><code class="python plain">(b, </code><code class="python color1">None</code><code class="python plain">)</code></div><div class="line number59 index58 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python plain">izip(a, b)</code></div><div class="line number60 index59 alt1">&nbsp;</div><div class="line number61 index60 alt2"><code class="python keyword">def</code> <code class="python plain">grouper(iterable, n, fillvalue</code><code class="python keyword">=</code><code class="python color1">None</code><code class="python plain">):</code></div><div class="line number62 index61 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"Collect data into fixed-length chunks or blocks"</code></div><div class="line number63 index62 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># grouper('ABCDEFG', 3, 'x') --&gt; ABC DEF Gxx</code></div><div class="line number64 index63 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">args </code><code class="python keyword">=</code> <code class="python plain">[</code><code class="python functions">iter</code><code class="python plain">(iterable)] </code><code class="python keyword">*</code> <code class="python plain">n</code></div><div class="line number65 index64 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python plain">izip_longest(fillvalue</code><code class="python keyword">=</code><code class="python plain">fillvalue, </code><code class="python keyword">*</code><code class="python plain">args)</code></div><div class="line number66 index65 alt1">&nbsp;</div><div class="line number67 index66 alt2"><code class="python keyword">def</code> <code class="python plain">roundrobin(</code><code class="python keyword">*</code><code class="python plain">iterables):</code></div><div class="line number68 index67 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"roundrobin('ABC', 'D', 'EF') --&gt; A D E B F C"</code></div><div class="line number69 index68 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># Recipe credited to George Sakkis</code></div><div class="line number70 index69 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">pending </code><code class="python keyword">=</code> <code class="python functions">len</code><code class="python plain">(iterables)</code></div><div class="line number71 index70 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">nexts </code><code class="python keyword">=</code> <code class="python plain">cycle(</code><code class="python functions">iter</code><code class="python plain">(it).</code><code class="python functions">next</code> <code class="python keyword">for</code> <code class="python plain">it </code><code class="python keyword">in</code> <code class="python plain">iterables)</code></div><div class="line number72 index71 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">while</code> <code class="python plain">pending:</code></div><div class="line number73 index72 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">try</code><code class="python plain">:</code></div><div class="line number74 index73 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code> <code class="python functions">next</code> <code class="python keyword">in</code> <code class="python plain">nexts:</code></div><div class="line number75 index74 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">yield</code> <code class="python functions">next</code><code class="python plain">()</code></div><div class="line number76 index75 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">except</code> <code class="python plain">StopIteration:</code></div><div class="line number77 index76 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">pending </code><code class="python keyword">-</code><code class="python keyword">=</code> <code class="python value">1</code></div><div class="line number78 index77 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">nexts </code><code class="python keyword">=</code> <code class="python plain">cycle(islice(nexts, pending))</code></div><div class="line number79 index78 alt2">&nbsp;</div><div class="line number80 index79 alt1"><code class="python keyword">def</code> <code class="python plain">powerset(iterable):</code></div><div class="line number81 index80 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"powerset([1,2,3]) --&gt; () (1,) (2,) (3,) (1,2) (1,3) (2,3) (1,2,3)"</code></div><div class="line number82 index81 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">s </code><code class="python keyword">=</code> <code class="python functions">list</code><code class="python plain">(iterable)</code></div><div class="line number83 index82 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python plain">chain.from_iterable(combinations(s, r) </code><code class="python keyword">for</code> <code class="python plain">r </code><code class="python keyword">in</code> <code class="python functions">range</code><code class="python plain">(</code><code class="python functions">len</code><code class="python plain">(s)</code><code class="python keyword">+</code><code class="python value">1</code><code class="python plain">))</code></div><div class="line number84 index83 alt1">&nbsp;</div><div class="line number85 index84 alt2"><code class="python keyword">def</code> <code class="python plain">unique_everseen(iterable, key</code><code class="python keyword">=</code><code class="python color1">None</code><code class="python plain">):</code></div><div class="line number86 index85 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"List unique elements, preserving order. Remember all elements ever seen."</code></div><div class="line number87 index86 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># unique_everseen('AAAABBBCCDAABBB') --&gt; A B C D</code></div><div class="line number88 index87 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># unique_everseen('ABBCcAD', str.lower) --&gt; A B C D</code></div><div class="line number89 index88 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">seen </code><code class="python keyword">=</code> <code class="python functions">set</code><code class="python plain">()</code></div><div class="line number90 index89 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">seen_add </code><code class="python keyword">=</code> <code class="python plain">seen.add</code></div><div class="line number91 index90 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python plain">key </code><code class="python keyword">is</code> <code class="python color1">None</code><code class="python plain">:</code></div><div class="line number92 index91 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code> <code class="python plain">element </code><code class="python keyword">in</code> <code class="python plain">ifilterfalse(seen.__contains__, iterable):</code></div><div class="line number93 index92 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">seen_add(element)</code></div><div class="line number94 index93 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">yield</code> <code class="python plain">element</code></div><div class="line number95 index94 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">else</code><code class="python plain">:</code></div><div class="line number96 index95 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code> <code class="python plain">element </code><code class="python keyword">in</code> <code class="python plain">iterable:</code></div><div class="line number97 index96 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">k </code><code class="python keyword">=</code> <code class="python plain">key(element)</code></div><div class="line number98 index97 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python plain">k </code><code class="python keyword">not</code> <code class="python keyword">in</code> <code class="python plain">seen:</code></div><div class="line number99 index98 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">seen_add(k)</code></div><div class="line number100 index99 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">yield</code> <code class="python plain">element</code></div><div class="line number101 index100 alt2">&nbsp;</div><div class="line number102 index101 alt1"><code class="python keyword">def</code> <code class="python plain">unique_justseen(iterable, key</code><code class="python keyword">=</code><code class="python color1">None</code><code class="python plain">):</code></div><div class="line number103 index102 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"List unique elements, preserving order. Remember only the element just seen."</code></div><div class="line number104 index103 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># unique_justseen('AAAABBBCCDAABBB') --&gt; A B C D A B</code></div><div class="line number105 index104 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments"># unique_justseen('ABBCcAD', str.lower) --&gt; A B C A D</code></div><div class="line number106 index105 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python plain">imap(</code><code class="python functions">next</code><code class="python plain">, imap(itemgetter(</code><code class="python value">1</code><code class="python plain">), groupby(iterable, key)))</code></div><div class="line number107 index106 alt2">&nbsp;</div><div class="line number108 index107 alt1"><code class="python keyword">def</code> <code class="python plain">iter_except(func, exception, first</code><code class="python keyword">=</code><code class="python color1">None</code><code class="python plain">):</code></div><div class="line number109 index108 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">""" Call a function repeatedly until an exception is raised.</code></div><div class="line number110 index109 alt1">&nbsp;</div><div class="line number111 index110 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">Converts a call-until-exception interface to an iterator interface.</code></div><div class="line number112 index111 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">Like __builtin__.iter(func, sentinel) but uses an exception instead</code></div><div class="line number113 index112 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">of a sentinel to end the loop.</code></div><div class="line number114 index113 alt1">&nbsp;</div><div class="line number115 index114 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">Examples:</code></div><div class="line number116 index115 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">bsddbiter = iter_except(db.next, bsddb.error, db.first)</code></div><div class="line number117 index116 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">heapiter = iter_except(functools.partial(heappop, h), IndexError)</code></div><div class="line number118 index117 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">dictiter = iter_except(d.popitem, KeyError)</code></div><div class="line number119 index118 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">dequeiter = iter_except(d.popleft, IndexError)</code></div><div class="line number120 index119 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">queueiter = iter_except(q.get_nowait, Queue.Empty)</code></div><div class="line number121 index120 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">setiter = iter_except(s.pop, KeyError)</code></div><div class="line number122 index121 alt1">&nbsp;</div><div class="line number123 index122 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">"""</code></div><div class="line number124 index123 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">try</code><code class="python plain">:</code></div><div class="line number125 index124 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python plain">first </code><code class="python keyword">is</code> <code class="python keyword">not</code> <code class="python color1">None</code><code class="python plain">:</code></div><div class="line number126 index125 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">yield</code> <code class="python plain">first()</code></div><div class="line number127 index126 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">while</code> <code class="python value">1</code><code class="python plain">:</code></div><div class="line number128 index127 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">yield</code> <code class="python plain">func()</code></div><div class="line number129 index128 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">except</code> <code class="python plain">exception:</code></div><div class="line number130 index129 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">pass</code></div><div class="line number131 index130 alt2">&nbsp;</div><div class="line number132 index131 alt1"><code class="python keyword">def</code> <code class="python plain">random_product(</code><code class="python keyword">*</code><code class="python plain">args, </code><code class="python keyword">*</code><code class="python keyword">*</code><code class="python plain">kwds):</code></div><div class="line number133 index132 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"Random selection from itertools.product(*args, **kwds)"</code></div><div class="line number134 index133 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">pools </code><code class="python keyword">=</code> <code class="python functions">map</code><code class="python plain">(</code><code class="python functions">tuple</code><code class="python plain">, args) </code><code class="python keyword">*</code> <code class="python plain">kwds.get(</code><code class="python string">'repeat'</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">)</code></div><div class="line number135 index134 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python functions">tuple</code><code class="python plain">(random.choice(pool) </code><code class="python keyword">for</code> <code class="python plain">pool </code><code class="python keyword">in</code> <code class="python plain">pools)</code></div><div class="line number136 index135 alt1">&nbsp;</div><div class="line number137 index136 alt2"><code class="python keyword">def</code> <code class="python plain">random_permutation(iterable, r</code><code class="python keyword">=</code><code class="python color1">None</code><code class="python plain">):</code></div><div class="line number138 index137 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"Random selection from itertools.permutations(iterable, r)"</code></div><div class="line number139 index138 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">pool </code><code class="python keyword">=</code> <code class="python functions">tuple</code><code class="python plain">(iterable)</code></div><div class="line number140 index139 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">r </code><code class="python keyword">=</code> <code class="python functions">len</code><code class="python plain">(pool) </code><code class="python keyword">if</code> <code class="python plain">r </code><code class="python keyword">is</code> <code class="python color1">None</code> <code class="python keyword">else</code> <code class="python plain">r</code></div><div class="line number141 index140 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python functions">tuple</code><code class="python plain">(random.sample(pool, r))</code></div><div class="line number142 index141 alt1">&nbsp;</div><div class="line number143 index142 alt2"><code class="python keyword">def</code> <code class="python plain">random_combination(iterable, r):</code></div><div class="line number144 index143 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"Random selection from itertools.combinations(iterable, r)"</code></div><div class="line number145 index144 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">pool </code><code class="python keyword">=</code> <code class="python functions">tuple</code><code class="python plain">(iterable)</code></div><div class="line number146 index145 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">n </code><code class="python keyword">=</code> <code class="python functions">len</code><code class="python plain">(pool)</code></div><div class="line number147 index146 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">indices </code><code class="python keyword">=</code> <code class="python functions">sorted</code><code class="python plain">(random.sample(</code><code class="python functions">xrange</code><code class="python plain">(n), r))</code></div><div class="line number148 index147 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python functions">tuple</code><code class="python plain">(pool[i] </code><code class="python keyword">for</code> <code class="python plain">i </code><code class="python keyword">in</code> <code class="python plain">indices)</code></div><div class="line number149 index148 alt2">&nbsp;</div><div class="line number150 index149 alt1"><code class="python keyword">def</code> <code class="python plain">random_combination_with_replacement(iterable, r):</code></div><div class="line number151 index150 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">"Random selection from itertools.combinations_with_replacement(iterable, r)"</code></div><div class="line number152 index151 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">pool </code><code class="python keyword">=</code> <code class="python functions">tuple</code><code class="python plain">(iterable)</code></div><div class="line number153 index152 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">n </code><code class="python keyword">=</code> <code class="python functions">len</code><code class="python plain">(pool)</code></div><div class="line number154 index153 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">indices </code><code class="python keyword">=</code> <code class="python functions">sorted</code><code class="python plain">(random.randrange(n) </code><code class="python keyword">for</code> <code class="python plain">i </code><code class="python keyword">in</code> <code class="python functions">xrange</code><code class="python plain">(r))</code></div><div class="line number155 index154 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python functions">tuple</code><code class="python plain">(pool[i] </code><code class="python keyword">for</code> <code class="python plain">i </code><code class="python keyword">in</code> <code class="python plain">indices)</code></div><div class="line number156 index155 alt1">&nbsp;</div><div class="line number157 index156 alt2"><code class="python keyword">def</code> <code class="python plain">tee_lookahead(t, i):</code></div><div class="line number158 index157 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">"""Inspect the i-th upcomping value from a tee object</code></div><div class="line number159 index158 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">while leaving the tee object at its current position.</code></div><div class="line number160 index159 alt1">&nbsp;</div><div class="line number161 index160 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">Raise an IndexError if the underlying iterator doesn't</code></div><div class="line number162 index161 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">have enough values.</code></div><div class="line number163 index162 alt2">&nbsp;</div><div class="line number164 index163 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python comments">"""</code></div><div class="line number165 index164 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code> <code class="python plain">value </code><code class="python keyword">in</code> <code class="python plain">islice(t.__copy__(), i, </code><code class="python color1">None</code><code class="python plain">):</code></div><div class="line number166 index165 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python plain">value</code></div><div class="line number167 index166 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">raise</code> <code class="python plain">IndexError(i)</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
<p>&nbsp;</p>
<p>自定义扩展</p>
<p>将序列按大小切分,更好的性能</p>
<div class="codetitle"><a id="copybut59889" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:</div>
<div id="code59889" class="codebody">&nbsp;</div>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_723723" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">from</code> <code class="python plain">itertools </code><code class="python keyword">import</code> <code class="python plain">chain, islice</code></div><div class="line number2 index1 alt1"><code class="python keyword">def</code> <code class="python plain">chunks(iterable, size, </code><code class="python functions">format</code><code class="python keyword">=</code><code class="python functions">iter</code><code class="python plain">):</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">it </code><code class="python keyword">=</code> <code class="python functions">iter</code><code class="python plain">(iterable)</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">while</code> <code class="python color1">True</code><code class="python plain">:</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">yield</code> <code class="python functions">format</code><code class="python plain">(chain((it.</code><code class="python functions">next</code><code class="python plain">(),), islice(it, size </code><code class="python keyword">-</code> <code class="python value">1</code><code class="python plain">)))</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;</code>&nbsp;</div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="python plain">&gt;&gt;&gt; l </code><code class="python keyword">=</code> <code class="python plain">[</code><code class="python string">"a"</code><code class="python plain">, </code><code class="python string">"b"</code><code class="python plain">, </code><code class="python string">"c"</code><code class="python plain">, </code><code class="python string">"d"</code><code class="python plain">, </code><code class="python string">"e"</code><code class="python plain">, </code><code class="python string">"f"</code><code class="python plain">, </code><code class="python string">"g"</code><code class="python plain">]</code></div><div class="line number9 index8 alt2"><code class="python plain">&gt;&gt;&gt; </code><code class="python keyword">for</code> <code class="python plain">chunk </code><code class="python keyword">in</code> <code class="python plain">chunks(l, </code><code class="python value">3</code><code class="python plain">, </code><code class="python functions">tuple</code><code class="python plain">):...</code></div><div class="line number10 index9 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python functions">print</code> <code class="python plain">chunk...</code></div><div class="line number11 index10 alt2"><code class="python plain">(</code><code class="python string">"a"</code><code class="python plain">, </code><code class="python string">"b"</code><code class="python plain">, </code><code class="python string">"c"</code><code class="python plain">)</code></div><div class="line number12 index11 alt1"><code class="python plain">(</code><code class="python string">"d"</code><code class="python plain">, </code><code class="python string">"e"</code><code class="python plain">, </code><code class="python string">"f"</code><code class="python plain">)</code></div><div class="line number13 index12 alt2"><code class="python plain">(</code><code class="python string">"g"</code><code class="python plain">,)</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
<p>&nbsp;</p>
<p><strong>补充</strong></p>
<p>迭代工具，你最好的朋友</p>
<p>迭代工具模块包含了操做指定的函数用于操作迭代器。想复制一个迭代器出来？链接两个迭代器？以one liner（这里的one-liner只需一行代码能搞定的任务)用内嵌的列表组合一组值？不使用list创建Map/Zip？···，你要做的就是 import itertools，举个例子吧：</p>
<p>四匹马赛跑到达终点排名的所有可能性：</p>
<div class="codetitle"><a id="copybut16500" class="copybut"></a><span style="text-decoration: underline;">复制代码</span>代码如下:
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_631103" class="syntaxhighlighter  python"><div class="toolbar"><span><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">&gt;&gt;&gt; horses </code><code class="python keyword">=</code> <code class="python plain">[</code><code class="python value">1</code><code class="python plain">, </code><code class="python value">2</code><code class="python plain">, </code><code class="python value">3</code><code class="python plain">, </code><code class="python value">4</code><code class="python plain">]</code></div><div class="line number2 index1 alt1"><code class="python plain">&gt;&gt;&gt; races </code><code class="python keyword">=</code> <code class="python plain">itertools.permutations(horses)</code></div><div class="line number3 index2 alt2"><code class="python plain">&gt;&gt;&gt; </code><code class="python functions">print</code><code class="python plain">(races)</code></div><div class="line number4 index3 alt1"><code class="python plain">&lt;itertools.permutations </code><code class="python functions">object</code> <code class="python plain">at </code><code class="python value">0xb754f1dc</code><code class="python plain">]]&gt;</code></div><div class="line number5 index4 alt2"><code class="python plain">&gt;&gt;&gt; </code><code class="python functions">print</code><code class="python plain">(</code><code class="python functions">list</code><code class="python plain">(itertools.permutations(horses)))</code></div><div class="line number6 index5 alt1"><code class="python plain">[(</code><code class="python value">1</code><code class="python plain">, </code><code class="python value">2</code><code class="python plain">, </code><code class="python value">3</code><code class="python plain">, </code><code class="python value">4</code><code class="python plain">),</code></div><div class="line number7 index6 alt2"><code class="python spaces">&nbsp;</code><code class="python plain">(</code><code class="python value">1</code><code class="python plain">, </code><code class="python value">2</code><code class="python plain">, </code><code class="python value">4</code><code class="python plain">, </code><code class="python value">3</code><code class="python plain">),</code></div><div class="line number8 index7 alt1"><code class="python spaces">&nbsp;</code><code class="python plain">(</code><code class="python value">1</code><code class="python plain">, </code><code class="python value">3</code><code class="python plain">, </code><code class="python value">2</code><code class="python plain">, </code><code class="python value">4</code><code class="python plain">),</code></div><div class="line number9 index8 alt2"><code class="python spaces">&nbsp;</code><code class="python plain">(</code><code class="python value">1</code><code class="python plain">, </code><code class="python value">3</code><code class="python plain">, </code><code class="python value">4</code><code class="python plain">, </code><code class="python value">2</code><code class="python plain">),</code></div><div class="line number10 index9 alt1"><code class="python spaces">&nbsp;</code><code class="python plain">(</code><code class="python value">1</code><code class="python plain">, </code><code class="python value">4</code><code class="python plain">, </code><code class="python value">2</code><code class="python plain">, </code><code class="python value">3</code><code class="python plain">),</code></div><div class="line number11 index10 alt2"><code class="python spaces">&nbsp;</code><code class="python plain">(</code><code class="python value">1</code><code class="python plain">, </code><code class="python value">4</code><code class="python plain">, </code><code class="python value">3</code><code class="python plain">, </code><code class="python value">2</code><code class="python plain">),</code></div><div class="line number12 index11 alt1"><code class="python spaces">&nbsp;</code><code class="python plain">(</code><code class="python value">2</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">, </code><code class="python value">3</code><code class="python plain">, </code><code class="python value">4</code><code class="python plain">),</code></div><div class="line number13 index12 alt2"><code class="python spaces">&nbsp;</code><code class="python plain">(</code><code class="python value">2</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">, </code><code class="python value">4</code><code class="python plain">, </code><code class="python value">3</code><code class="python plain">),</code></div><div class="line number14 index13 alt1"><code class="python spaces">&nbsp;</code><code class="python plain">(</code><code class="python value">2</code><code class="python plain">, </code><code class="python value">3</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">, </code><code class="python value">4</code><code class="python plain">),</code></div><div class="line number15 index14 alt2"><code class="python spaces">&nbsp;</code><code class="python plain">(</code><code class="python value">2</code><code class="python plain">, </code><code class="python value">3</code><code class="python plain">, </code><code class="python value">4</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">),</code></div><div class="line number16 index15 alt1"><code class="python spaces">&nbsp;</code><code class="python plain">(</code><code class="python value">2</code><code class="python plain">, </code><code class="python value">4</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">, </code><code class="python value">3</code><code class="python plain">),</code></div><div class="line number17 index16 alt2"><code class="python spaces">&nbsp;</code><code class="python plain">(</code><code class="python value">2</code><code class="python plain">, </code><code class="python value">4</code><code class="python plain">, </code><code class="python value">3</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">),</code></div><div class="line number18 index17 alt1"><code class="python spaces">&nbsp;</code><code class="python plain">(</code><code class="python value">3</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">, </code><code class="python value">2</code><code class="python plain">, </code><code class="python value">4</code><code class="python plain">),</code></div><div class="line number19 index18 alt2"><code class="python spaces">&nbsp;</code><code class="python plain">(</code><code class="python value">3</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">, </code><code class="python value">4</code><code class="python plain">, </code><code class="python value">2</code><code class="python plain">),</code></div><div class="line number20 index19 alt1"><code class="python spaces">&nbsp;</code><code class="python plain">(</code><code class="python value">3</code><code class="python plain">, </code><code class="python value">2</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">, </code><code class="python value">4</code><code class="python plain">),</code></div><div class="line number21 index20 alt2"><code class="python spaces">&nbsp;</code><code class="python plain">(</code><code class="python value">3</code><code class="python plain">, </code><code class="python value">2</code><code class="python plain">, </code><code class="python value">4</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">),</code></div><div class="line number22 index21 alt1"><code class="python spaces">&nbsp;</code><code class="python plain">(</code><code class="python value">3</code><code class="python plain">, </code><code class="python value">4</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">, </code><code class="python value">2</code><code class="python plain">),</code></div><div class="line number23 index22 alt2"><code class="python spaces">&nbsp;</code><code class="python plain">(</code><code class="python value">3</code><code class="python plain">, </code><code class="python value">4</code><code class="python plain">, </code><code class="python value">2</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">),</code></div><div class="line number24 index23 alt1"><code class="python spaces">&nbsp;</code><code class="python plain">(</code><code class="python value">4</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">, </code><code class="python value">2</code><code class="python plain">, </code><code class="python value">3</code><code class="python plain">),</code></div><div class="line number25 index24 alt2"><code class="python spaces">&nbsp;</code><code class="python plain">(</code><code class="python value">4</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">, </code><code class="python value">3</code><code class="python plain">, </code><code class="python value">2</code><code class="python plain">),</code></div><div class="line number26 index25 alt1"><code class="python spaces">&nbsp;</code><code class="python plain">(</code><code class="python value">4</code><code class="python plain">, </code><code class="python value">2</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">, </code><code class="python value">3</code><code class="python plain">),</code></div><div class="line number27 index26 alt2"><code class="python spaces">&nbsp;</code><code class="python plain">(</code><code class="python value">4</code><code class="python plain">, </code><code class="python value">2</code><code class="python plain">, </code><code class="python value">3</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">),</code></div><div class="line number28 index27 alt1"><code class="python spaces">&nbsp;</code><code class="python plain">(</code><code class="python value">4</code><code class="python plain">, </code><code class="python value">3</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">, </code><code class="python value">2</code><code class="python plain">),</code></div><div class="line number29 index28 alt2"><code class="python spaces">&nbsp;</code><code class="python plain">(</code><code class="python value">4</code><code class="python plain">, </code><code class="python value">3</code><code class="python plain">, </code><code class="python value">2</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">)]</code></div></div></td></tr></tbody></table></div></div>
</div>
<p>　　</p>
</div>
<p>理解迭代的内部机制： 迭代(iteration）就是对可迭代对象（iterables，实现了__iter__()方法）和迭代器（iterators，实现了__next__()方法）的一个操作过程。可迭代对象是任何可返回一个迭代器的对象，迭代器是应用在迭代对象中迭代的对象，换一种方式说的话就是：iterable对象的__iter__()方法可以返回iterator对象，iterator通过调用next()方法获取其中的每一个值(译者注)，读者可以结合Java API中的 Iterable接口和Iterator接口进行类比。</p></div><div id="MySignature"></div>
<div class="clear"></div>
<div id="blog_post_info_block">
<div id="BlogPostCategory">分类: <a href="https://www.cnblogs.com/fengshuihuan/category/1051466.html" target="_blank">python</a></div>
<div id="EntryTag"></div>
<div id="blog_post_info"><div id="green_channel">
        <a href="javascript:void(0);" id="green_channel_digg" onclick="DiggIt(7105545,cb_blogId,1);green_channel_success(this,&#39;谢谢推荐！&#39;);">好文要顶</a>
            <a id="green_channel_follow" onclick="follow(&#39;d8590f7f-3d03-e711-845c-ac853d9f53ac&#39;);" href="javascript:void(0);">关注我</a>
    <a id="green_channel_favorite" onclick="AddToWz(cb_entryId);return false;" href="javascript:void(0);">收藏该文</a>
    <a id="green_channel_weibo" href="javascript:void(0);" title="分享至新浪微博" onclick="ShareToTsina()"><img src="./Python itertools模块详解 - 风水涣 - 博客园_files/icon_weibo_24.png" alt=""></a>
    <a id="green_channel_wechat" href="javascript:void(0);" title="分享至微信" onclick="shareOnWechat()"><img src="./Python itertools模块详解 - 风水涣 - 博客园_files/wechat.png" alt=""></a>
</div>
<div id="author_profile">
    <div id="author_profile_info" class="author_profile_info">
            <a href="http://home.cnblogs.com/u/fengshuihuan/" target="_blank"><img src="./Python itertools模块详解 - 风水涣 - 博客园_files/20170518143337.png" class="author_avatar" alt=""></a>
        <div id="author_profile_detail" class="author_profile_info">
            <a href="http://home.cnblogs.com/u/fengshuihuan/">风水涣</a><br>
            <a href="http://home.cnblogs.com/u/fengshuihuan/followees">关注 - 1</a><br>
            <a href="http://home.cnblogs.com/u/fengshuihuan/followers">粉丝 - 3</a>
        </div>
    </div>
    <div class="clear"></div>
    <div id="author_profile_honor"></div>
    <div id="author_profile_follow">
                <a href="javascript:void(0);" onclick="follow(&#39;d8590f7f-3d03-e711-845c-ac853d9f53ac&#39;);return false;">+加关注</a>
    </div>
</div>
<div id="div_digg">
    <div class="diggit" onclick="votePost(7105545,&#39;Digg&#39;)">
        <span class="diggnum" id="digg_count">1</span>
    </div>
    <div class="buryit" onclick="votePost(7105545,&#39;Bury&#39;)">
        <span class="burynum" id="bury_count">0</span>
    </div>
    <div class="clear"></div>
    <div class="diggword" id="digg_tips">
    </div>
</div>
<script type="text/javascript">
    currentDiggType = 0;
</script></div>
<div class="clear"></div>
<div id="post_next_prev"><a href="https://www.cnblogs.com/fengshuihuan/p/7103451.html" class="p_n_p_prefix">« </a> 上一篇：<a href="https://www.cnblogs.com/fengshuihuan/p/7103451.html" title="发布于2017-07-01 20:51">Beautifulsoup关于find的测试</a><br><a href="https://www.cnblogs.com/fengshuihuan/p/7117569.html" class="p_n_p_prefix">» </a> 下一篇：<a href="https://www.cnblogs.com/fengshuihuan/p/7117569.html" title="发布于2017-07-04 17:13">想造轮子的时候，ctrl+f一下</a><br></div>
</div>


		</div>
		<div class="postDesc">posted @ <span id="post-date">2017-07-02 11:35</span> <a href="https://www.cnblogs.com/fengshuihuan/">风水涣</a> 阅读(<span id="post_view_count">3488</span>) 评论(<span id="post_comment_count">0</span>)  <a href="https://i.cnblogs.com/EditPosts.aspx?postid=7105545" rel="nofollow">编辑</a> <a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" onclick="AddToWz(7105545);return false;">收藏</a></div>
	</div>
	<script type="text/javascript">var allowComments=true,cb_blogId=356336,cb_entryId=7105545,cb_blogApp=currentBlogApp,cb_blogUserGuid='d8590f7f-3d03-e711-845c-ac853d9f53ac',cb_entryCreatedDate='2017/7/2 11:35:00';loadViewCount(cb_entryId);var cb_postType=1;</script>
	
</div><!--end: topics 文章、评论容器-->
</div><a name="!comments"></a><div id="blog-comments-placeholder"></div><script type="text/javascript">var commentManager = new blogCommentManager();commentManager.renderComments(0);</script>
<div id="comment_form" class="commentform">
<a name="commentform"></a>
<div id="divCommentShow"></div>
<div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" onclick="return RefreshCommentList();" id="lnk_RefreshComments" runat="server" clientidmode="Static">刷新评论</a><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#" onclick="return RefreshPage();">刷新页面</a><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html#top">返回顶部</a></div>
<div id="comment_form_container"><div class="login_tips">注册用户登录后才能发表评论，请 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return login(&#39;commentform&#39;);">登录</a> 或 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return register();">注册</a>，<a href="http://www.cnblogs.com/">访问</a>网站首页。</div></div>
<div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
<div id="ad_t2"><a href="http://www.ucancode.com/index.htm" target="_blank">【推荐】超50万VC++源码: 大型组态工控、电力仿真CAD与GIS源码库！</a><br><a href="https://www.linuxprobe.com/chapter-00.html" target="_blank" onclick="ga(&#39;send&#39;, &#39;event&#39;, &#39;Link&#39;, &#39;click&#39;, &#39;T2-linuxprobe&#39;)">【免费】要想入门学习Linux系统技术，你应该先选择一本适合自己的书籍</a><br><a href="https://www.grapecity.com.cn/developer/spreadjs?utm_source=cnblogs&amp;utm_medium=blogpage&amp;utm_term=bottom&amp;utm_content=SpreadJS&amp;utm_campaign=community" target="_blank" onclick="ga(&#39;send&#39;, &#39;event&#39;, &#39;Link&#39;, &#39;click&#39;, &#39;T2-SpreadJS&#39;)">【前端】SpreadJS表格控件，可嵌入应用开发的在线Excel</a><br><a href="https://cloud.tencent.com/developer/edu/major-100005?fromSource=gwzcw.1312543.1312543.1312543#course-1274" target="_blank" onclick="ga(&#39;send&#39;, &#39;event&#39;, &#39;Link&#39;, &#39;click&#39;, &#39;T2-微信支付&#39;)">【直播】如何快速接入微信支付功能</a><br></div>
<div id="opt_under_post"></div>
<div id="cnblogs_c1" class="c_ad_block"><a href="https://cloud.tencent.com/act/special/rav?fromSource=gwzcw.1312547.1312547.1312547" target="_blank"><img width="300" height="250" src="./Python itertools模块详解 - 风水涣 - 博客园_files/24442-20180914091419057-283402001.jpg" alt="腾讯云" onclick="ga(&#39;send&#39;, &#39;event&#39;, &#39;Link&#39;, &#39;click&#39;, &#39;C1&#39;);"></a></div>
<div id="under_post_news"><div class="itnews c_ad_block"><b>最新IT新闻</b>:<br> ·  <a href="https://news.cnblogs.com/n/608500/" target="_blank">创新还是蹭热度？社交电商平台“拼少少”引起热议</a><br> ·  <a href="https://news.cnblogs.com/n/608501/" target="_blank">站着说话为什么会腰疼？问问你的古猿老祖吧</a><br> ·  <a href="https://news.cnblogs.com/n/608499/" target="_blank">《财经》起诉“趣头条”侵权290余篇稿件</a><br> ·  <a href="https://news.cnblogs.com/n/608498/" target="_blank">钢铁侠马斯克“喊冤” 与SEC和解的可能性很大</a><br> ·  <a href="https://news.cnblogs.com/n/608497/" target="_blank">张小平何去何从 业内人士：很有可能被判回研究所</a><br>» <a href="http://news.cnblogs.com/" title="IT新闻" target="_blank">更多新闻...</a></div></div>
<div id="cnblogs_c2" class="c_ad_block"><a href="http://clickc.admaster.com.cn/c/a113319,b2799157,c1705,i0,m101,8a1,8b3,h" target="_blank"><img width="468" height="60" src="./Python itertools模块详解 - 风水涣 - 博客园_files/24442-20180928211056169-856184964.jpg" alt="华为云C2_0929" onclick="ga(&#39;send&#39;, &#39;event&#39;, &#39;Link&#39;, &#39;click&#39;, &#39;C2&#39;);"></a></div>
<div id="under_post_kb"><div class="itnews c_ad_block" id="kb_block"><b>最新知识库文章</b>:<br><div id="kb_recent"> ·  <a href="https://kb.cnblogs.com/page/606682/" target="_blank">为什么说 Java 程序员必须掌握 Spring Boot ？</a><br> ·  <a href="https://kb.cnblogs.com/page/606645/" target="_blank">在学习中，有一个比掌握知识更重要的能力</a><br> ·  <a href="https://kb.cnblogs.com/page/603663/" target="_blank">如何招到一个靠谱的程序员</a><br> ·  <a href="https://kb.cnblogs.com/page/573614/" target="_blank">一个故事看懂“区块链”</a><br> ·  <a href="https://kb.cnblogs.com/page/603697/" target="_blank">被踢出去的用户</a><br></div>» <a href="https://kb.cnblogs.com/" target="_blank">更多知识库文章...</a></div></div>
<div id="HistoryToday" class="c_ad_block"></div>
<script type="text/javascript">
    fixPostBody();
    setTimeout(function () { incrementViewCount(cb_entryId); }, 50);
    deliverAdT2();
    deliverAdC1();
    deliverAdC2();    
    loadNewsAndKb();
    loadBlogSignature();
    LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
    GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate, cb_postType);
    loadOptUnderPost();
    GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);   
</script>
</div>


	</div><!--end: forFlow -->
	</div><!--end: mainContent 主体内容容器-->

	<div id="sideBar">
		<div id="sideBarMain">
			
<!--done-->
<div class="newsItem">
<h3 class="catListTitle">公告</h3>
	<div id="blog-news">
<script type="text/javascript">window['__document_write_ajax_callbacks__']['3']();</script><script type="text/javascript">window['__document_write_ajax_callbacks__']['1']();</script><div id="profile_block">昵称：<a href="https://home.cnblogs.com/u/fengshuihuan/">风水涣</a><br>园龄：<a href="https://home.cnblogs.com/u/fengshuihuan/" title="入园时间：2017-03-07">1年6个月</a><br>粉丝：<a href="https://home.cnblogs.com/u/fengshuihuan/followers/">3</a><br>关注：<a href="https://home.cnblogs.com/u/fengshuihuan/followees/">1</a><div id="p_b_follow"><a href="javascript:void(0);" onclick="follow(&#39;d8590f7f-3d03-e711-845c-ac853d9f53ac&#39;)">+加关注</a></div><script type="text/javascript">window['__document_write_ajax_callbacks__']['4']();</script><script>window['__document_write_ajax_callbacks__']['2']();</script></div></div><script type="text/javascript">loadBlogNews();</script>
</div>

			<div id="blog-calendar" style=""><table id="blogCalendar" class="Cal" cellspacing="0" cellpadding="0" title="Calendar">
	<tbody><tr><td colspan="7"><table class="CalTitle" cellspacing="0">
		<tbody><tr><td class="CalNextPrev"><a href="javascript:void(0);" onclick="loadBlogCalendar(&#39;2018/08/01&#39;);return false;">&lt;</a></td><td align="center">2018年9月</td><td class="CalNextPrev" align="right"><a href="javascript:void(0);" onclick="loadBlogCalendar(&#39;2018/10/01&#39;);return false;">&gt;</a></td></tr>
	</tbody></table></td></tr><tr><th class="CalDayHeader" align="center" abbr="日" scope="col">日</th><th class="CalDayHeader" align="center" abbr="一" scope="col">一</th><th class="CalDayHeader" align="center" abbr="二" scope="col">二</th><th class="CalDayHeader" align="center" abbr="三" scope="col">三</th><th class="CalDayHeader" align="center" abbr="四" scope="col">四</th><th class="CalDayHeader" align="center" abbr="五" scope="col">五</th><th class="CalDayHeader" align="center" abbr="六" scope="col">六</th></tr><tr><td class="CalOtherMonthDay" align="center">26</td><td class="CalOtherMonthDay" align="center">27</td><td class="CalOtherMonthDay" align="center">28</td><td class="CalOtherMonthDay" align="center">29</td><td class="CalOtherMonthDay" align="center">30</td><td class="CalOtherMonthDay" align="center">31</td><td class="CalWeekendDay" align="center">1</td></tr><tr><td class="CalWeekendDay" align="center">2</td><td align="center">3</td><td align="center">4</td><td align="center">5</td><td align="center">6</td><td align="center">7</td><td class="CalWeekendDay" align="center">8</td></tr><tr><td class="CalWeekendDay" align="center">9</td><td align="center">10</td><td align="center">11</td><td align="center">12</td><td align="center">13</td><td align="center">14</td><td class="CalWeekendDay" align="center">15</td></tr><tr><td class="CalWeekendDay" align="center">16</td><td align="center">17</td><td align="center">18</td><td align="center">19</td><td align="center">20</td><td align="center">21</td><td class="CalWeekendDay" align="center">22</td></tr><tr><td class="CalWeekendDay" align="center">23</td><td align="center">24</td><td align="center">25</td><td align="center">26</td><td align="center">27</td><td align="center">28</td><td class="CalTodayDay" align="center">29</td></tr><tr><td class="CalWeekendDay" align="center">30</td><td class="CalOtherMonthDay" align="center">1</td><td class="CalOtherMonthDay" align="center">2</td><td class="CalOtherMonthDay" align="center">3</td><td class="CalOtherMonthDay" align="center">4</td><td class="CalOtherMonthDay" align="center">5</td><td class="CalOtherMonthDay" align="center">6</td></tr>
</tbody></table></div><script type="text/javascript">loadBlogDefaultCalendar();</script>
			
			<div id="leftcontentcontainer">
				<div id="blog-sidecolumn"><div id="sidebar_search" class="sidebar-block">
<div id="sidebar_search" class="mySearch">
<h3 class="catListTitle">搜索</h3>
<div id="sidebar_search_box">
<div id="widget_my_zzk" class="div_my_zzk"><input type="text" id="q" onkeydown="return zzk_go_enter(event);" class="input_my_zzk">&nbsp;<input onclick="zzk_go()" type="button" value="找找看" id="btnZzk" class="btn_my_zzk"></div>
<div id="widget_my_google" class="div_my_zzk"><input type="text" name="google_q" id="google_q" onkeydown="return google_go_enter(event)" class="input_my_zzk">&nbsp;<input onclick="google_go()" type="button" value="谷歌搜索" class="btn_my_zzk"></div>
</div>
</div>

</div><div id="sidebar_shortcut" class="sidebar-block">
<div class="catListLink">
<h3 class="catListTitle">常用链接</h3>
<ul>
<li><a href="https://www.cnblogs.com/fengshuihuan/p/" title="我的博客的随笔列表">我的随笔</a></li><li><a href="https://www.cnblogs.com/fengshuihuan/MyComments.html" title="我发表过的评论列表">我的评论</a></li><li><a href="https://www.cnblogs.com/fengshuihuan/OtherPosts.html" title="我评论过的随笔列表">我的参与</a></li><li><a href="https://www.cnblogs.com/fengshuihuan/RecentComments.html" title="我的博客的评论列表">最新评论</a></li><li><a href="https://www.cnblogs.com/fengshuihuan/tag/" title="我的博客的标签列表">我的标签</a></li>
</ul>
<div id="itemListLin_con" style="display:none;">
<ul>

</ul>
</div>
</div></div><div id="sidebar_toptags" class="sidebar-block"></div><div id="sidebar_categories">
<div id="sidebar_postcategory" class="catListPostCategory sidebar-block">
<h3 class="catListTitle">随笔分类</h3>

<ul>

<li><a id="CatList_LinkList_0_Link_0" href="https://www.cnblogs.com/fengshuihuan/category/1051459.html">kali linux</a> </li>

<li><a id="CatList_LinkList_0_Link_1" href="https://www.cnblogs.com/fengshuihuan/category/1051465.html">linux(12)</a> </li>

<li><a id="CatList_LinkList_0_Link_2" href="https://www.cnblogs.com/fengshuihuan/category/1051466.html">python(17)</a> </li>

<li><a id="CatList_LinkList_0_Link_3" href="https://www.cnblogs.com/fengshuihuan/category/1051458.html">爬虫(12)</a> </li>

<li><a id="CatList_LinkList_0_Link_4" href="https://www.cnblogs.com/fengshuihuan/category/1051467.html">前端(4)</a> </li>

<li><a id="CatList_LinkList_0_Link_5" href="https://www.cnblogs.com/fengshuihuan/category/1051460.html">渗透(2)</a> </li>

<li><a id="CatList_LinkList_0_Link_6" href="https://www.cnblogs.com/fengshuihuan/category/1117999.html">随便的东西(3)</a> </li>

</ul>

</div>

<div id="sidebar_postarchive" class="catListPostArchive sidebar-block">
<h3 class="catListTitle">随笔档案</h3>

<ul>

<li><a id="CatList_LinkList_1_Link_0" href="https://www.cnblogs.com/fengshuihuan/archive/2018/04.html">2018年4月 (1)</a> </li>

<li><a id="CatList_LinkList_1_Link_1" href="https://www.cnblogs.com/fengshuihuan/archive/2018/03.html">2018年3月 (5)</a> </li>

<li><a id="CatList_LinkList_1_Link_2" href="https://www.cnblogs.com/fengshuihuan/archive/2017/11.html">2017年11月 (13)</a> </li>

<li><a id="CatList_LinkList_1_Link_3" href="https://www.cnblogs.com/fengshuihuan/archive/2017/10.html">2017年10月 (6)</a> </li>

<li><a id="CatList_LinkList_1_Link_4" href="https://www.cnblogs.com/fengshuihuan/archive/2017/09.html">2017年9月 (7)</a> </li>

<li><a id="CatList_LinkList_1_Link_5" href="https://www.cnblogs.com/fengshuihuan/archive/2017/08.html">2017年8月 (19)</a> </li>

<li><a id="CatList_LinkList_1_Link_6" href="https://www.cnblogs.com/fengshuihuan/archive/2017/07.html">2017年7月 (15)</a> </li>

<li><a id="CatList_LinkList_1_Link_7" href="https://www.cnblogs.com/fengshuihuan/archive/2017/06.html">2017年6月 (25)</a> </li>

<li><a id="CatList_LinkList_1_Link_8" href="https://www.cnblogs.com/fengshuihuan/archive/2017/05.html">2017年5月 (8)</a> </li>

</ul>

</div>

</div><div id="sidebar_recentcomments" class="sidebar-block"><div id="recent_comments_wrap" style="display: none;">
<div class="catListComment">
<h3 class="catListTitle">最新评论</h3>

	<div id="RecentCommentsBlock"></div>
</div>
</div></div><div id="sidebar_topviewedposts" class="sidebar-block"><div id="topview_posts_wrap">
<div class="catListView">
<h3 class="catListTitle">阅读排行榜</h3>
	<div id="TopViewPostsBlock"><ul><li><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html">1. Python itertools模块详解(3487)</a></li><li><a href="https://www.cnblogs.com/fengshuihuan/p/7922489.html">2. 利用kibana插件对Elasticsearch进行映射(357)</a></li><li><a href="https://www.cnblogs.com/fengshuihuan/p/7786659.html">3. python 几个简单算法详解(343)</a></li><li><a href="https://www.cnblogs.com/fengshuihuan/p/6930438.html">4. 利用shell脚本实现nginx 的logs日志分割(309)</a></li><li><a href="https://www.cnblogs.com/fengshuihuan/p/7687948.html">5. python 试题(291)</a></li></ul></div>
</div>
</div></div><div id="sidebar_topcommentedposts" class="sidebar-block"><div id="topfeedback_posts_wrap" style="display: none;">
<div class="catListFeedback">
<h3 class="catListTitle">评论排行榜</h3>
	<div id="TopFeedbackPostsBlock"></div>
</div>
</div></div><div id="sidebar_topdiggedposts" class="sidebar-block"><div id="topdigg_posts_wrap">
<div class="catListView">
<h3 class="catListTitle">推荐排行榜</h3>
<div id="TopDiggPostsBlock"><ul><li><a href="https://www.cnblogs.com/fengshuihuan/p/7687948.html">1. python 试题(1)</a></li><li><a href="https://www.cnblogs.com/fengshuihuan/p/6930438.html">2. 利用shell脚本实现nginx 的logs日志分割(1)</a></li><li><a href="https://www.cnblogs.com/fengshuihuan/p/7105545.html">3. Python itertools模块详解(1)</a></li></ul></div>
</div></div></div></div><script type="text/javascript">loadBlogSideColumn();</script>
			</div>
			
		</div><!--end: sideBarMain -->
	</div><!--end: sideBar 侧边栏容器 -->
	<div class="clear"></div>
	</div><!--end: main -->
	<div class="clear"></div>
	<div id="footer">
		
<!--done-->
Copyright ©2018 风水涣
	</div><!--end: footer -->
</div><!--end: home 自定义的最大容器 -->
<!--PageEndHtml Block Begin-->
<script src="./Python itertools模块详解 - 风水涣 - 博客园_files/bootstrap.min.js"></script>
<!--PageEndHtml Block End-->


<script type="text/javascript">
//生成目录索引列表
//实现在<div id="cnblogs_post_body">下插入我们拼接的动态目录html内容
function GenerateContentList()
{
    var jquery_h3_list = $('#cnblogs_post_body h3');//查找div id="cnblogs_post_body"下所有的h3节点
    if(jquery_h3_list.length>0)
    {
        var content = '<a name="_labelTop"></a>'; //锚(#_labelTop):回到目录,
        content += '<div id="navCategory">';     
        content += '<p style="font-size: 25px;"><b>阅读目录</b></p>';
        content += '<ul>';
        for(var i =0;i<jquery_h3_list.length;i++)
        {
            //功能1
            var go_to_top = '<div style="text-align: right"><a href="#_labelTop">回到目录</a><a name="_label' + i + '"></a></div>';
            $(jquery_h3_list[i]).before(go_to_top);//在每个h3节点封装jQuery对象,然后在前面插入新生成的"回到目录"html
            //功能2
            var li_content = '<li><a href="#_label' + i + '" style="color: darkseagreen; text-decoration: none; font-size: 18px;" >' + $(jquery_h3_list[i]).text() + '</a></li>';
            content += li_content;
        }
        content += '</ul>';
        content += '</div>';
        if($('#cnblogs_post_body').length != 0 )//验证$('#cnblogs_post_body')取到jQuery对象
        {
            $($('#cnblogs_post_body')[0]).prepend(content);//推测:$('#cnblogs_post_body')[0]取到html元素,在封装成jQuery对象
        }                                                  //在div id="cnblogs_post_body"下插入动态生成html     
    }    
}
GenerateContentList();

</script><script type="text/javascript">getFollowStatus('d8590f7f-3d03-e711-845c-ac853d9f53ac')</script></body></html>